+на 6912, когда управление отпущено, старается привязать камеру к (x&7)==0 (в старом направлении движения), убрано автоотклеивание от (x&7)==4. таким образом не заметно мерцание, а анимация червей показывается максимально плавно

вода на АТМ
звёздочки сверху на АТМ
звёздочки печатать в зависимости от побед (подкрашивать на 6912 не получится - луч заезжает на рамку)
потолок на 128K
столкновение червей друг с другом и минами
черви при падении застревают в земле
защита от пролетания сквозь землю хотя бы по вертикали и хотя бы в воду
предметы при генерации углублять в землю
скольжение червей (более точный x? в Worms Armageddon точность хода 1/4 пикс, а пиксели там в 2 раза меньше наших)
отскакивание червей, которые наложились друг на друга в конце хода
втыкание червей в землю и вылезание
управление ползанием (лучше с возможностью натыкать большую скорость, как в Armageddon)
улучшить прыжок (лучше несколько, как в Armageddon)
верёвка
прицеливание
выстрел и полёт пули
слежение за пулей
убийства червей
взрыв
переход хода
меню
ИИ
время мерцает - не спасёт даже необновление карты (т.к. вода должна течь!)



не печатаем неподвижных червей (TODO на АТМ не печатать и мины, там им незачем мерцать)
в начале игры (ForcedDrawWormsInMap) рисуем всех, кроме мин
при взрыве (ForcedUnDrawWormsInMap) стираем всех, кроме мин
в процессе: рисуем STAYING, меняем на PRINTED (в логике игнорятся одинаково оба)

в оригинале:
868.4 килобайт звуков (без урезанных версий "2M" 771K - эти версии 100K вместо 175K) (без дублёров 639.3, можно ещё убрать Thunder 36.5K, AirStrike 17K = 587K или взять версии "2M" = 518K - можно загнать в 496K на GS 512K)
482K (в Worms+ больше!!!! всё надо пересчитать!!!) графики под 256 цветов (151K общая + 10 разных фонов)
реально у звуков есть заголовки, надо отрезать
если тупо копировать все ресурсы графики (без выкидывания дубликатов и что там есть - мы ещё не знаем), то данные одной зоны для 48K (бит на пиксель) займут 23K. то есть в момент генерации на 48К надо убрать из памяти всю остальную игру (23K графика (можно оставить только используемые спрайты) + 16K генерируемая карта + 4K маска + 1K генератор = 44K, а буферы в экране)

в старых версиях 128K вывод карты (быстрый скролл по 2 пикс) 8f6e..ae00 = 0x1e92
в новой версии для каждого скролла своя процедура, всего 0x6ff+0x400 байт таблиц
x=0: 21 t/b (можно легко переделать на 16)
x=1: 26.5 t/b (можно 25 патчами inc l/hl)
x=2: 36.5 t/b (можно 35 патчами inc l/hl)
x=3: 42 t/b (по таблице)
x=4: 34 t/b (сдвиг прямо в экране, поэтому немного мерцает)
x=5: 42 t/b (по таблице)
x=6: 34 t/b
x=7: 24 t/b

по идее черви должны ставиться так, чтобы вообще не пересекаться с ландшафтом (так было в оригинале), чтобы было легче потом их снимать, тогда bounding box не нужен
а как размещать надписи? ксором? есть проблемы с читаемостью

спрайты примерно 8K

итого под код остаётся 40-16-4-8 = 12K, но там ещё 2К таблиц и шрифтов

в 48K версии другой фон грузится по запросу, а по умолчанию колбасим старый ландшафт без его перестройки (нет памяти под перегенерацию, графики ландшафта нет в памяти)

в 128K (может быть tape) можно использовать потолок - ещё 8K (или меньше? 80 pix) + 2K дополнительный bounding box (на 48K для этого нет места - только небо)
там ещё добавляется музыка, звуки на инте, графика фонов (60K при бите на пиксель) и меню
итого лишние 80K (сверх 48K версии) используются так:
10K под потолок
8K музыка и звуки на инте
>60K графика фонов (можно упаковать? тогда можно упаковать и дополнительные музоны)
2K меню

в 256K+disk (одну страницу использовать нельзя из-за Скорпиона) не нужно хранить все фоны и меню
лишние 192K (сверх 48K версии) используются так:
10K под потолок
8K музыка и звуки на инте
174K звуки (все шумовые заменить на on-int)
[или лучше сделать как на 128K, но дополнительно 112K звуков? (все шумовые заменить на on-int)]

при наличии GS (поддержать только 512K, т.е. 496K под звуки) все звуки можно скинуть туда, тогда и при 128/256K будут все звуки (а не только нешумовые) и графика в памяти (хотя на 128K почти нереально иметь GS)


при наличии ATM-Turbo 2+ 1024K
лучше под ось (иначе не будет сети), с цветной графикой, какие-то звуки взять версии "2M" (упаковывать неудобно для оси, перед проигрыванием распаковывать нет смысла, а на лету не портит только DAKX, у него ограничение скорости и нет страниц)
в NedoOS при maxmem и снятии всех задач (Touhou Zero) остаётся 64-8-4+3=55 страниц = 880K, не считая экрана (Touhou Zero использует 10 страниц под Evo SDK, 32 под скролл, 9 страниц графики, итого 51?)
из 880K:
96K карта (с потолком)
32K спрайты (если на 48/128K они занимали 8K)
6K bounding маска (с потолком)
12K код
734K звуки (при наличии GS может работать и на 512K RAM)
графику фонов (>241K) и меню грузим с диска?









Player 1: Weevil, Stumpy, Horatio, Neville
Player 2: Monty, Floyd, Chester, Charlie
Player 3: Gertie, Varmint, Speen, Woodchuck
Player 4: Fossil, Noggin, Crank, Ted
Fab Four: John, Paul, George, Ringo
Royalty: Elizabeth, Charles, Not Diana, Phillip
Top Dogs: Lassie, Scooby, Rebel, Beethoven
All 4 1: Aramis, Porthos, Dartagnan, Athos
Teddies: Rupert, Pooh, Paddington, Yogi
Merrymen: Robin Hood, Little John, Maid Marion, Friar Tuck

остальные шутки хрен кто поймёт:
Waterloo: Benny, Bjorn, Agnetha, Anni-Frid /это группа ABBA/
F A B: Lady Penelope, Scott, Brains, Parker /это сериал Thunderbirds/
Utensils: Teaspoon, Fork, Wooden Spoon, Whisk
Team 17: Mr Spadge, Pumper Cloggs, Pa Symons, 10BOB Boggy
Goodbye: Took That, Soasis, Howard Wilkinson, Another Bishop /пародии на названия каких-то старых групп/
Ourcars: Mazda 626, Toyota MR2 TBar, Hyundai Thingy, Battered Sierra



что можно улучшить по сравнению с оригиналом:
- музыка
- сетевая игра
- разные прыжки из Armageddon
- ускорение ползания ритмичным тыканьем из Armageddon
- mortar, jetpac из Armageddon 
- можно добавить птицу, по которой можно попасть, и тогда она пикирует и взрывается с огромной силой
- настроить баланс оружия (например, граната на 70, т.к. ей трудно попасть - а ИИ не давать кидать точно в цель)
- игра на прохождение
- ограничить время верёвки
- время на отход после выстрела
