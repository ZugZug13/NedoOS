00          -   end of string
                  если был переход по 0B 39 -  возврат по адресу оставленному командой 0B 39
01          - #CLS                   - Очистка тестового окна после нажатия
04 file     - #LOAD_SCENARIO "file.ovl"  - Загрузка сценария file
03          - ???? (одиночная команда -выход в меню, в виде 12 04 хх хх 03 - работет нормально)
06 xx       - #LOAD_MUSIC "XXX"      - загрузка музыки

08          - |      - ожидание нажатия и продолжение вывода без переноса строки
0A          - ^     - Перенос на следующую строку

0B 01 XX YY     -  #LOCAL_LET [XX]=[XX]+YY                [XX] ячейка YY ЧИСЛО
0B 02 XX YY     -  #LOCAL_LET [XX]=[XX]+[YY]              [XX],[YY]  -ЯЧЕЙКИ
0B 03 XX YY     -  #LOCAL_LET [XX]=[XX]-[YY]                                          -
0B 05 XX YY     -  #LOCAL_LET [XX]=YYY                  - Присвоение локальной переменной X=Y
0B 06 XX YY ZZ  -  #LOCAL_LET [XX]=[YY]-[ZZ]
0B 07 X Y Z     -  #LOCAL_LET [XX]=[YY]-ZZ              - ВЫЧИТАНИЕ
0B 08 X Y Z     -  #IF [YY]>0 AND [ZZ]>0 THEN [XX]=1    - Проверить ячейки Y и Z на истинность
0B 09 X Y Z     -  #IF [YY]>0 OR [ZZ]>0 THEN [XX]=1     - Проверить ячейки Y или Z на истинность
0B 0A X         -  #IF [XX]>0 THEN CONTINUE             - Продолжить если X истинно

0B 0B XX [A1] [A2] [A3]...[Axx]  [A1]=[A1]&[A2]&[A3]..&..[Axx]  [A1]=1 если все операнды > 0
0B 0C XX [A1] [A2] [A3]...[Axx]  [A1]=[A1]or[A2]or[A3]..or..[Axx]  [A1]=1 если хоть один > 0
      XX - КОЛ-ВО ОПЕРАНДОВ
      [A1]...[Axx] - ОПЕРАНДЫ ...   РЕЗУЛЬТАТ - В [A1]
      
0B 14 X Y   - #RANDOMIZE [XX]_YY                   - генерирует случайное число в ячейку
                                                       [XX] в диапазоне 0...YY-1
0B 32 X Y Z - #IF [XX]>0 THEN GOTO ZZYY            - Перейти по адресу YZ если X истинно
0B 33 X Y Z - #IF [XX]=0 THEN GOTO ZZYY            - Перейти по адресу YZ если X ложно
0B 34 X Y Z - #IF [XX]<0 THEN GOTO ZZYY            - Перейти по адресу YZ (ЕСЛИ Х<0 )

0B 35 X Y Z -  #IF [XX]>00 THEN GOTO ZZYY          - Перейти по адресу YZ если X истинно

0B 36 X Y    - #GOTO XXYY                           - Перейти по адресу XY

0B 39 x adr1 ... adrx  FFFF=??????? комплексный переключатель - ограничитель- слово FFFF
    (выбирает адрес перехода от состояния ячейки [x] и сохраняет адрес возврата
       --- адрес следующей за FFFF комманды
 ([x])=0 - adr1   ([x])=1 -adr2 etc.
------------ группа работы с глобальными переменными ------------
0C 01 X Y   - #GLOB_TO_LOC [XX]=[YY]                     - Перевод глобальной переменной в локальную LOC [XX]= GLOB [YY]
0C 02 X Y   - #LOC_TO_GLOB [XX]=[YY]                                         -
0C 03 X Y   - #GLOBAL_LET [XX]=YYY                       - Присвоение глобальной переменной X=Y
 
 
10 - BAD ENDING

0F XX - GOOD ENDING No XX
 
 

12 01 X     - #MENU[XXX]=OFF                       
12 02 X     - #MENU[XXX]=ON     
12 04 X Y   - #SUBMENU[XXX,YYY]=OFF
12 05 X Y   - #SUBMENU[XXX,YYY]=ON 

/////////////////////////////////////////////////////////////////////////////////
ТИП ВЫВОДА
default - 60
this.prepareFX = function() {
        this.fx[50] = {
            type: 'FADE'
        };
        this.fx[51] = {
            type: 'FADE'
        };
        this.fx[54] = {
            type: 'RCGR',
            side: 'black',
            center: 'white'
        };
        this.fx[56] = {
            type: 'RCFC',
            style: 'horizontal',
            side: 'white',
            center: 'black'
        };
        this.fx[57] = {
            type: 'RCFC',
            style: 'horizontal',
            side: 'white',
            center: 'black'
        };
        this.fx[58] = {
            type: 'RCFC',
            style: 'vertical',
            side: 'white',
            center: 'black'
        };
        this.fx[59] = {
            type: 'PATF',
            pattern: [
                [155, 51, 215, 183, 67, 227, 99, 3],
                [211, 247, 119, 43, 31, 123, 91, 131],
                [143, 19, 219, 87, 195, 111, 255, 31],
                [235, 107, 167, 7, 139, 39, 79, 179],
                [223, 75, 191, 23, 151, 127, 243, 95],
                [143, 175, 251, 95, 207, 15, 147, 63],
                [59, 187, 135, 231, 115, 27, 71, 203],
                [159, 199, 83, 103, 47, 171, 11, 239]
            ]
        };
        this.fx[60] = {
            type: 'UPDN'
        };
        this.fx[61] = {
            type: 'WIND',
            wind: 150
        }
    };
/////////////////////////////////////////////////////////////////////////////////
Скорость эффекта
 default - 1000
eff 50 - 500
eff 51 - 2000
/////////////////////////////////////////////////////////////////////////////////
13 01 05 07 AA 0E ZZ 'NAME' 00 - ЗАГРУЗКА BACKGROUND В БУФЕР ВЫВОДА И ВЫВОД НА ЭКРАН
13 02 05 07 AA 0E ZZ 04 00 - ВЫВОДИТ НА ЭКРАН BACKGROUND ИЗ ПАМЯТИ не портя буфер вывода
13 02 05 07 AA 0E ZZ 03 00 - ВЫВОДИТ НА ЭКРАН BACKGROUND ИЗ БУФЕРА ВЫВОДА
          \   \                 ZZ - ТИП ВЫВОДА
           \   -+----------------- задержка 0a быстрее чем 09
         ---+--/------------------- ???  БЫВАЕТ 07 И 08        07 - сплошной вывод  08- цвет индекс8- прозрачный?
        /  ---^
13 03 08 AA 0D XX YY 'NAME' 00 - ЗАГРУЗИТЬ СПРАЙТ И НАЛОЖИТЬ В БУФЕР ВЫВОДА

                             08 кратность чч координаты. байт
                             XX - X КООРДИНАТА СПРАЙТА 0 - #3B (0-59)   т.е факт координата 08*ХХ

                             YY - Y координата (в пикселях)

                             АА тип загрузки.  
                                09 используется при прямом выводе спрайта
                                0A используется при выводе поверх TB_008
                       ------     начало координат в верхнем левом углу      ---------
                       
-- 13 03 07 AA 'TB_008' 00  - ???? - ТОЛЬКО ПРИ ЗАГРУЗКЕ TB_008  - загрузка маски в буфер вывода
                                        - СДЕЛАЛ - СОДЕРЖИМОЕ ЭКРАНА КИДАЕТСЯ В БУФЕР ВЫВОДА
-- 13 03 08 AA 0D XX YY 'name' - ??? - загрузка спрайта в буфер вывода
-----Загружается маска (пустой экран), на него накладывается спрайт, полученный экран накладывается на ИЗОБРАЖЕНИЕ НА ЭКРАНЕ
         маска изображение на экране не затирает (на то она и маска)
----- проще говоря - добавление спрайта к изображению на экране
- портится буфер вывода

13 04 07 0A 'NAME' 00 -  ЗАГРУЗИТЬ BACKGROUND 'NAME' В ПАМЯТЬ

13 0F - RESTORE BACKGROUND   - ПЕРЕКИНУТЬ РИСУНОК ИЗ ПАМЯТИ В БУФЕР ВЫВОДА
13 10 - STORE BACKGROUND     - СОХРАНИТЬ ИЗОБРАЖЕНИЕ НА ЭКРАНЕ В ПАМЯТЬ


14 01 XX    -CLEAR NEXT XX GLOBAL VARIABLES
   E.G. 14 01 03 64 65 66 00  обнуляет глобальные переменные 64 65 66(hex)
               \          /
                >>>>>>>>>>
14 03 XX   - ОЧИСТКА ЭКРАНА СПОСОБОМ XX


15 01 BB 0D XX YY 'NAME'00 - ЗАГРУЗИТЬ АНИМАЦИЮ, запретить вывод всех анимаций, разрешить вывод анимации с номером
                             равным только-что загруженному
                                 BB - НОМЕР АНИМАЦИИ
                                 XX - X КООРДИНАТА АНИМАЦИИ в знакоместах (0-59)
                                 YY - Y координата (в пикселях)
(ЗНАЧЕНИЯ КАК И В СОТВЕТСТВУЮЩЕМ СПРАЙТЕ - скорее всего в .GRA анимации есть смещение относительно начала спрайта)
///////////////////////////////////////
                rect: [+imgParams[3] + this.cgScreen[0] + (+params[3] << 3), +imgParams[4] + this.cgScreen[1] + (+params[4] << 3), +imgParams[1], +imgParams[2]], // вычисление куда выводить спрайт анимации
                //нужно тольКО узнать, откуда берутся imgparams в 'img'
                timeline: this.prepareAniTimings(imgParams[5], +imgParams[2]),
///////////////////////////////////////


                       ------     начало координат в верхнем левом углу      ---------
                       
15 03 BB          -   РАЗРЕШИТЬ АНИМАЦИЮ НОМЕР BB
15 04             -   ОТКЛЮЧИТЬ ВСЕ АНИМЦИИ
15 05             -   ОЧИСТИТЬ БАНК АНИМАЦИЙ - АНИМАЦИИ С ОДИНАКОВАМИ НОМЕРАМИ НЕ ЗАТИРАЮТСЯ
                        И ПРИ ЗАГРУЗКЕ АНИМАЦИИ С ИМЕЮЩИМСЯ НОМЕРОМ И ЕЕ ВЫЗОВЕ ВМЕСТЕ С НОВОЙ
                        ВЫВОДИТСЯ ТАКЖЕ СТАРАЯ С ТЕМ ЖЕ НОМЕРОМ
  Принцип работы с анимацией - ключ не отключает анимацию для текущего изображения
      а дает знать что при следующем обновлении экрана из буфера анимация выводится не будет

16 XX   -    FLASH XXX
17 XX   -    PAUSE XXX
18 xx   -    earthshake xxx
                                      типы вывода
32 - мгновенно
36 - от краев к центру экрана
37 - от края к центру по спирали в два хода
38 - от центра к краям - (обратное 36)
39 - от центра вправо и влево
3A - от центра вверх и вниз
3B - жалюзи             \
3C - сверху и снизу      \ как в OVL 1.x
3D - слева направо        \
