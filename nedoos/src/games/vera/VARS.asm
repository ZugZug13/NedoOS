;Начало срхраняемых переменных;VARS;Формат таблицы:;       DB A,B,C,D;       A-кому;       B-что;       C-номер диалога с персонажем;       D-номер скрипта+1 перед отдачей вещи;         1-не выполнять скрипт;      или;       C=255 - команда для перехода в режим реплики;       D-номер реплики+1;Кому какую вещь можно отдатьFORTAB        DB 6,11,3,1  ;Волк-бутерброд        DB 4,7,3,20  ;Хевор-письмо        DB 4,26,11,1 ;Хевор-амулет        DB 4,34,14,66 ;Хевор-зубы        DB 7,21,4,31 ;Петро-хмель        DB 7,20,5,30 ;Петро-мед        DB 7,3,6,1   ;Петро-пшеница        DB 7,17,7,31 ;Петро-зерна        DB 7,30,16,1 ;Петро-кастрюля        DB 10,15,6,1 ;Кузнец-пивоZD      DB 0,0,11,1  ;Кузнец-трубкаBK      DB 0,0,5,1   ;Буквин-деньги        DB 8,6,7,1   ;Алена-веревкаFTZL    DB 0,0,255,23;Зловет-магнит        DB 3,19,255,25;Зловет-посох        DB 9,13,3,1  ;Фекла-книга        DB 9,33,8,67 ;Ф-ноготь        DB 8,4,3,1   ;Алена-флакон водыLENTAB  EQU ($-FORTAB)/4;Какую вещь на какой объект можно применитьFORTAB2        DB 15 ;на какой объект        DB 8  ;какой предмет        DB 4  ;номер реплики+1        DB 1  ;скрипт+1/1-нет скрипта        DB 14,4,5,1  ;1 козленок-флаконVED     DB 12,5,6,1  ;2 колодец-ведро        DB 8,5,7,12  ;3 статуя-ведроFSR     DB 10,22,8,1 ;4 пшеница-серп        DB 9,22,9,1  ;5 хмель-серпFLZ     DB 10,32,12,1;6 пшеница-лезвие        DB 9,32,13,1 ;7 хмель-лезвиеULEY    DB 11,8,11,1 ;8 улей-пуст.флакон        DB 3,1,15,1  ;9 склет-топор        DB 4,1,15,1  ;10склет-топор        DB 5,1,15,1  ;11склет-топор        DB 6,1,15,1  ;12склет-топор        DB 1,3,16,1  ;13мельница-колосьяFT2     DB 2,19,17,1 ;14костер-посох        DB 2,31,18,1 ;15костер-спички        DB 2,25,24,1 ;16костер-свеча        DB 7,14,20,1 ;17мышь-чеснок        DB 2,9,28,57 ;18костер-Зловет        DB 2,10,28,57;19костер-Зловет во флаконе        DB 13,18,29,1;20Храм-колокол        DB 14,36,32,1;21козленок-яблокоLENTAB2 EQU ($-FORTAB2)/4;КостерFIRS    DB 2,2        DB 1,0,4        DW FR1,FR2,FR3,FR4;Писающий мальчикPBOY    DB 2,2        DB 1        DB 0 ;/3 кол-во фаз        DB 0        DW PB1,PB2,PB3,PB4,PB5,PB6;Замок ЗловетаRUMB    DB 3,3        DB 1,0,0        DW RU1,RU2,RU3,RU4,RU5,RU6,RU7,RU8,RU9;Появление провидца ЛеоLEO1    DB 6,6        DB 13,14,0        DW LE11,LE12,LE13,LE14LE11    DW (188*32)+SPR,(190*32)+SPR,(192*32)+SPR,(194*32)+SPR        DW (196*32)+SPR,(199*32)+SPR,(202*32)+SPR,(202*32)+SPR        DW (202*32)+SPR,(202*32)+SPR,(208*32)+SPR,(210*32)+SPR        DW (210*32)+SPR,(210*32)+SPR,(210*32)+SPRLE12    DW SPR,SPR,SPR,SPR,SPR,SPR        DW (204*32)+SPR,(205*32)+SPR,(206*32)+SPR,(207*32)+SPR        DW (209*32)+SPR,(211*32)+SPR,(212*32)+SPR,(213*32)+SPR        DW (214*32)+SPRLE13    DW (189*32)+SPR,(191*32)+SPR,(193*32)+SPR,(195*32)+SPR        DW (197*32)+SPR,(200*32)+SPR,(203*32)+SPR,(203*32)+SPR        DW (203*32)+SPR,(203*32)+SPR,(203*32)+SPR,(203*32)+SPR        DW (203*32)+SPR,(203*32)+SPR,(203*32)+SPRLE14    DW SPR,SPR,SPR,SPR        DW (198*32)+SPR,(201*32)+SPR,(201*32)+SPR,(201*32)+SPR        DW (201*32)+SPR,(201*32)+SPR,(201*32)+SPR,(201*32)+SPR        DW (201*32)+SPR,(201*32)+SPR,(201*32)+SPR;Исчезание провидца ЛеоLEO2    DB 6,6        DB 2,11,0        DW LE21,LE22,LE23,LE24LE21    DW (208*32)+SPR,(202*32)+SPR,(202*32)+SPR,(202*32)+SPR        DW (202*32)+SPR,(199*32)+SPR,(196*32)+SPR,(194*32)+SPR        DW (192*32)+SPR,(190*32)+SPR,(188*32)+SPR        DW SPRLE22    DW (209*32)+SPR,(207*32)+SPR,(206*32)+SPR,(205*32)+SPR        DW (204*32)+SPR,SPR,SPR,SPR,SPR,SPR,SPR        DW SPRLE23    DW (203*32)+SPR,(203*32)+SPR,(203*32)+SPR,(203*32)+SPR        DW (203*32)+SPR,(200*32)+SPR,(197*32)+SPR,(195*32)+SPR        DW (193*32)+SPR,(191*32)+SPR,(189*32)+SPR        DW SPRLE24    DW (201*32)+SPR,(201*32)+SPR,(201*32)+SPR,(201*32)+SPR        DW (201*32)+SPR,(201*32)+SPR,(198*32)+SPR,SPR,SPR        DW SPR,SPR        DW SPR;Появление вещи - 14INVT    DB 4,4        DB 2,5,0        DW INV1INV1    DW (147*32)+SPR,(146*32)+SPR        DW (145*32)+SPR,(144*32)+SPR        DW (143*32)+SPRINVENT  DW SPR ;код вещи, которая появится;Исчезание вещиINVT2   DB 4,4        DB 2,5,0        DW INV2INV2    DW (143*32)+SPR,(144*32)+SPR        DW (145*32)+SPR,(146*32)+SPR        DW (147*32)+SPRUNDR    DW SPR ;код спрайта кот. лежал под вещью;Исчезание вещи 2INVT3   DB 4,4        DB 2,5,0        DW INV3INV3    DW (143*32)+SPR,(144*32)+SPR        DW (145*32)+SPR,(146*32)+SPR        DW (147*32)+SPRUNDR2   DW SPR ;код спрайта кот. лежал под вещью;Ссылки на названия вещей (patched)V        DW V0,V1,V2,V3,V4,V5,V6,V7,V8,V9,V10        DW V11,V12,V13,V14,V15,V16,V17,V18,V19,V20        DW V21,V22,V23,V24,V25,V26,V27,V28,V29,V30        DW V31,V32,V33,V34,V35,V36,V37,V38        DW V39,V40,V41,V42,V43,V44,V45,V46        DW V47,V48,V49VV      DW V50,V51,V51,V51,V51        DW V52,V53,V54,V55,V56,V57,V58,V59        DW V60,V64;Ссылки на свойства вещей (patched)VSVOY   DW v1,v1,v2,v3,v4,v5,v6,v7,v8,v9,v10        DW v11,v12,v13,v14,v15,v16,v17,v18,v19,v20        DW v21,v22,v23,v24,v25,v26,v27,v28,v29,v30        DW v31,v32,v33,v34,v35,v36,v37,v38;Список вещей       if RUSV0      DB "Пусто",0       elseV0      DB "Nothing",0       endif       if RUSV1      DB "Топор",0 ;название вещи       elseV1      DB "Axe",0 ;название вещи       endifv1      DB 0 ;0 - Нельзя применить вещь на героя             ;<>0 - можно применить             ;если BIT 7=0 - номер реплики             ;если BIT 7=1 - %01111111 - номер скрипта, кот.             ;должен выдать номер реплики+1 (см. метлу)        DB 0 ;код вещи с которой можно взаимодействовать в мешке        DB 0 ;код вещи-результата взаимодействия        DB 0 ;номер реплики+1 на удачное применение        DW SPR ;код спрайта лежащего под               ;вещью на игровом экране (нужно при взятии вещи)       if RUSV2      DB "Магнит",0       elseV2      DB "Magnet",0       endifv2      DS 4        DW SPR       if RUSV3      DB "Колосья",13        DB "пшеницы",0       elseV3      DB "Ears of",13        DB "wheat",0       endifv3      DS 4        DW SPR       if RUSV4      DB "Флакон",13        DB "живой воды",0       elseV4      DB "Flask of",13        DB "water of life",0       endifv4      DS 4        DW SPR       if RUSV5      DB "Пустое ведро",0       elseV5      DB "Empty bucket",0       endifv5      DS 4        DW SPR       if RUSV6      DB "Моток",13        DB "веревки",0       elseV6      DB "Rope",0       endifv6      DS 4        DW SPR       if RUSV7      DB "Письмо",0       elseV7      DB "Letter",0       endifv7      DB 2,0,0,0        DW SPR       if RUSV8      DB "Пустой",13        DB "флакон",0       elseV8      DB "Empty flask",0       endifv8      DB 0,9,10,30        DW SPR       if RUSV9      DB "Маленький",13;V9     DB "Уменьшеный",13        DB "Зловет",0       elseV9      DB "Tiny",13        DB "Evilon",0       endifv9      DB 0,8,10,30        DW SPR       if RUSV10     DB "Зловет",13        DB "во флаконе",0       elseV10     DB "Evilon in",13        DB "a flask",0       endifv10     DS 4        DW SPR       if RUSV11     DB "Бутерброд",13        DB "с сыром",0       elseV11     DB "Cheese",13        DB "sandwich",0       endifv11     DS 4        DW SPR       if RUSV12     DB "Метла",0       elseV12     DB "Broom",0       endifv12     DB 128+58        DS 3        DW SPR       if RUSV13     DB "Книга",0       elseV13     DB "Book",0       endifv13     DS 4        DW SPR       if RUSV14     DB "Чеснок",0       elseV14     DB "Garlic",0       endifv14     DB 19        DS 3        DW SPR       if RUSV15     DB "Бочонок пива",0       elseV15     DB "Keg of beer",0       endifv15     DS 4        DW SPR       if RUSV16     DB "Деньги",0       elseV16     DB "Money",0       endifv16     DS 4        DW SPR       if RUSV17     DB "Зерна",13        DB "пшеницы",0       elseV17     DB "Ground",13        DB "wheat",0       endifv17     DS 4        DW SPR       if RUSV18     DB "Колокол",0       elseV18     DB "Bell",0       endifv18     DS 4        DW SPR       if RUSV19     DB "Посох",13        DB "Зловета",0       elseV19     DB "Evilon's",13        DB "staff",0       endifv19     DB 27        DS 3        DW SPR       if RUSV20     DB "Флакон меда",0       elseV20     DB "Flask",13,"of honey",0       endifv20     DS 4        DW SPR       if RUSV21     DB "Пучок хмеля",0       elseV21     DB "Bunch",13,"of hops",0       endifv21     DS 4        DW SPR       if RUSV22     DB "Серп",0       elseV22     DB "Sickle",0       endifv22     DS 4        DW SPR       if RUSV23     DB "Зелье",13        DB "невидимости",0       elseV23     DB "Invisibility",13        DB "potion",0       endifv23     DB 22        DS 5       if RUSV24     DB "Зелье",13        DB "видимости",0       elseV24     DB "Visibility",13        DB "potion",0       endifv24     DB 26        DS 5       if RUSV25     DB "Свеча",0       elseV25     DB "Candle",0       endifv25     DS 4        DW SPR       if RUSV26     DB "Амулет",13        DB "здоровья",0       elseV26     DB "Health",13        DB "amulet",0       endifv26     DS 4        DW SPR       if RUSV27     DB "Сушеный",13        DB "таракан",0       elseV27     DB "Dried",13        DB "cockroach",0       endifv27     DB 0,29,23,21        DW SPR       if RUSV28     DB "Перо",0       elseV28     DB "Feather",0       endifv28     DS 4        DW SPR       if RUSV29     DB "Волчьи ягоды",0       elseV29     DB "Nightshade",0       endifv29     DB 0,27,23,21        DW SPR       if RUSV30     DB "Кастрюля",0       elseV30     DB "Saucepan",0       endifv30     DS 4        DW SPR       if RUSV31     DB "Спички",0       elseV31     DB "Matches",0       endifv31     DS 4        DW SPR       if RUSV32     DB "Лезвие",0       elseV32     DB "Blade",0       endifv32     DS 4        DW SPR       if RUSV33     DB "Ноготь",13        DB "колдуна",0       elseV33     DB "Sorcerer's",13        DB "nail",0       endifv33     DS 4        DW SPR       if RUSV34     DB "Вставные",13        DB "зубы",0       elseV34     DB "False",13        DB "teeth",0       endifv34     DS 4        DW SPR       if RUSV35     DB "Трубка",0       elseV35     DB "Pipe",0       endifv35     DS 4        DW SPR       if RUSV36     DB "Огрызок",13        DB "яблока",0       elseV36     DB "Apple core",0       endifv36     DS 4        DW SPR       if RUSV37     DB "Венец победы",0       elseV37     DB "Crown",13,"of victory",0       endifv37     DS 4        DW SPR       if RUSV38     DB "Ведро",13        DB "с водой",0       elseV38     DB "Bucket",13        DB "of water",0       endifv38     DS 4        DW SPRTASKS;       DB 0   ;кол-во отложенных задач;       DW X,Y ;X-счетчик, Y-адрес подпрогр.        DS MAXTASK*4COLOUR       if EGA        DB 3 ;цвет фона игрового экрана ;EGA: номер части суток       else        DB 64+(8*7) ;цвет фона игрового экрана ;EGA: номер части суток       endifMUSNUM  DB 0 ;текущий номер мелодииTIME    DB 0,0,0 ;час,мин,секSUTKI   DB 0 ;течение игровых суток 0-152-длина в пикс спрайтаKARM    DB 0 ;вещь в кармане взятая из мешкаONHERO  DB 0 ;0/<>0 Лежит ли курсор на герое. 0 - на героеDISTV   DB 0 ;0/1/2 0 нельзя прим. вещь, 1 можно, 2 только фактDISTP   DB 0 ;0/1/2 0 не говорим, 1 говорим, 2 факт разговораPERSON  DB 0 ;код персонажа под курсоромITEM    DB 0 ;код предмета под курсором с кот. возможно взаимод.;Абсолютные координаты героя на карте в системе 2*2 знакоместаHEROCRD DW #3906 ;X,Y        DB 255OLDpath DW 0     ;координаты след. шага пути в случ.                 ;когда герой уже идет, а ему нужно поменять                 ;направление;Вещи которые лежат в мешкеMESHOK        display "MESHOK=",$        DB 11 ;бутерброд       db 23 ;зелье невидимости       db 24 ;зелье видимости        DS MESHOK+QVESH-$;QVESH-1;VESH    EQU 0;        DUP QVESH ;кол-во вещей;        DB VESH ;код вещи;VESH=VESH+1;        EDUP;Провидец ГлебGLB     DB 1 ;текущий номер реплики с данным персонажем        DB 0 ;номер реплики на ненужную персонажу вещь        DW GL;адрес упаков. диалогов с персонажем;ЗловетZLO     DB 1,0        DW ZL;Старейшина ХеворHEV     DB 1,0        DW HV;Библиотекарь БуквинBUK     DB 1,0        DW BK_;Волк ЖораJOR     DB 1,0        DW JO;Бармен ПетроPET     DB 1,0        DW PT;АленушкаALE     DB 1,0        DW AL;ФеклаFEK     DB 1,0        DW FK;КузнецZAD     DB 1,0        DW ZD_;Выполнение квестов (заданий);0-не выполн. 1-выполн.;См. файл "QUESTS.H"QUEST        DS 44;43curmagic        dw reterP3p1        db 0 ;0/1 для колдовства Зловетом