               ZXZVMtr v0.93  Отличия от версии 0.9  1)  Введена возможность записи текста надиск  (script - включение, unscript - отк-лючение). ВНИМАНИЕ! Перед сохранением/заг-рузкой состояния игры лучше отключить сох-ранение  текста  (unscript), а после можновключить  script  и  выбрать  другой файл.Расширения у отгрузки и script'а одинаковы("!") посему будьте осторожны.  2) Убыстрена работа ZXZVM. Теперь имеют-ся  четыре разновидности машиннозависимогофайла:  а)  zxio512f  -  под  Pentagon 512 FAST.Только под Pentagon 512 (обращение к стра-ницам  идет  через #FD для быстроты; файлыне должны быть > 448 Кб).  б)  zxio512n  - под Pentagon 512 NOFAST.Переключение  страниц  идет  через  #7FFD;файлы  могут  быть  любой длины (все равномаксимальный размер .z8 - 512 Кб).  в)  zxio128f  -  только под Spectrum 128(без   расширенной  памяти).  Переключениестраниц идет через порт #FD.  г)  zxio128n  -  для любого Spectrum'а сиспользовнием только 128 Кб.  3)  Для сокращения памяти занимаемой ма-шиннозависимой частью были сокращены сооб-щения об ошибках:BEW - A Bad ERASE_WINDONZF - A No ZXFDOS functionSF - A Story formatSR - A Spectrum +3 require  Последнее сообщение вы никогда не увиди-те :). Никакой проверки нет, посему вы мо-жете  легко загрузить на Spectrum 128 вер-сию ZXZVM под 512 и вылететь потом с ошиб-кой SF (A Story format).  Хочется  заметить, что в адвентюры с IF-Comp2001  играться  на 128-м компе малостьпроблематично  (в  смысле долго и дисководжалко).  Кому  не нравятся цвета в ZXZVM может ихлегко  поменять вставив строку в Basic'е снужными ему PAPER, INK и BORDER. В качест-ве  примера прилагается "512BLACK" для бе-лых  букв  на черном фоне. Хочеттся однакозаметить,  что  стандартом интерпретаторовz-code  являются черные буквы на белом фо-не.  Победитель  IFComp  2001  - AllRoads до-вольно быстро работает и в него можно нор-мально играться.  Infocom'овские игры на www.ifarchive.orgвы  не найдете - они до сих пор коммерчес-кие.      Можно     полезть     на     WOS(www.void.jump.org/archive.html)  и  найтитам используя поисковик Infocom'овские иг-ры для Spectrum +3. А можно написать мне ия  выложу  их  на запорожский сайт/перешлювам по почте.  Также  было  замечено, что некоторые иг-рушки  >  180  Кб  неправильно работают наPentagon 512 fast: пишут всякую чушь вмес-то текста. Зато на Pentagon 512 nofast ра-ботают нормально. Вылавливать данный bug уменя  желания  и  времени пока нет, посемудля    таких    игр   просто   пользуйтесь"512ZVMn".  Отличия от версии 0.64:  1) Наконец-то  сделано Save/Restore. Од-нако:  не  обрабатываются ошибки TR-DOS'а;запись отгрузки идет только на этот диск ине проверяется наличие свободного места надиске.  2) Выловлен  глюк из-за которого на Пен-тагоне 512 неправильно работала подзагруз-ка памяти (если игра > 448 Кб)  3)  Убыстрена работа программы. Вообще язаметил  одну вещь: чем старее Z-файл, тембыстрее  программа  работает. Так напримеригры 2000-го года думают секунд 10 на каж-дую команду; игры 1995-1997 года - 1.5 се-кунды;  Infocom'овские игрушки носятся какненормальные   (по   сравнению   с  играми2000-го года).  Как и в версии 0.64 поддерживается толь-ко пентагоновское расширение.  Для  тех,  кто хочет что-то изменить подсебя (например сделать обработку расширен-ной  памяти не под пентагоновское расшире-ние) прилагаются (во всяком случае должны)исходники.  В архиве Ishodn_1.ZIP хранятсяисходники спектрум-независимого кода (ком-пилируется  в  файл zxzvm.C). Его можно (инужно) не трогать  В архиве Ishodn_2.ZIP находятся исходни-ки  спектрум-зависимого кода (переключениестраниц,  работа  с  ОС,  вывод  на экран)(компилируется  в файл zxio.C). Переключе-ние  страниц  происходит в: zxio_38.zsm, вtr-dos+2.zsm (при загрузке игрового файла,и  если  игровой  файл не помещается сразувесь  в  память),  zxp3dos5.zsm  (по-моемутолько в конце по метке sel48 ).  Отличие  от  версии  ZXZVMtr v0.1 - под-держка игровых файлов любой длины.  Правда  работать из-за обращений к дискупрограмма стала еще медленнее.  Файл-дополнения должны иметь то же имя ирасширение 0, 1, 2 и т.д.  Пример:  primer1.z  primer1.0  primer1.1  Данная программа представляет собой реа-лизацию  виртуальной  машины Z-machine подСпектрум  128  с дисководом и операционнойсистемой TR-DOS. Z-machine позволяет рабо-тать с загруженныm в нее Z-code'ом. Z-code-  один  из  популярных на Западе (Англия,Германия,  Испания)  способов хранения игртипа текстовая адвентюра в машинно-незави-симых  кодах. Такие шедевры как ZORK, Enc-hanter, Spellbreaker фирмы Infocom (Не пу-тать с Inforcom'ом) написаны на Z-code.  Сейчас  на  Западе  очень популярен языкInform (автор Graham Nelson), который ком-пилируется  в  Z-code.  2/3  выпускающихсясейчас  на  Западе текстовых адвентюр хра-нятся в Z-code. В общем всеm любителям Le-vel  9, Scott Adams'а стоит хотя бы запус-тить, загрузить любой Z-code и хоть немно-го поиграться.                 Адреса:  www.ifarchive.org - ссылки на ftp-шникипосвященные адвентюрам + возможность пола-зить по каталогам. В каталоге games/zcodeвы найдете много различных адвентюр, кото-рые запускаются на Спектруме с использова-нием ZXZVM.  www.ifcompetition.org - сайт посвященныйсоревнованиям по IF'у.  www.zx.zp.ua  - наш запорожский спектру-мовский сайт. Переодически там будут появ-ляться Z-файлы + новые версии ZXZVM.               Ограничения  1) Поддерживаются  только  типы  3,4,5,8формата Z-code (что не страшно, т.к. 1,2 -мало распространены, а 6,7 - графические иперенести  их  на Спектрум практически не-возможно).  Данные  типы  имеют расширение.z3,  .z4, .z5, .z8 соответственно (именноих и надо скачивать).  2) Нет  жирного текста  3)  Нет поддержки команды Undo (и не бу-дет,  иначе  каждую  команду интерпретаторбудет обдумывать секунд 40)  4) Нет  поддержки  Unicode (Если в ASCIIна каждый символ отводится один байт, то вUnicode на символ отводится два байта)  5) Нет звуков кроме beep (который правдадолжен идти на AY)  6) На диске в конце должны быть свободны64 сектора (может и меньше, а может вообщене  надо,  но  лучше  чтоб были. Если играсразу влезла в память, то не надо)                 Загрузка  Для загрузки Z-code ZXZVM и Z-code долж-ны находиться на одном диске. После стартапрограмма выдаст на экран файлы из катало-га с именем *.z*  Внизу  появится строка "Storyfile>", на-бираете  имя  файла  (можно  не полностью,т.к. программа ищет первый попавшийся под-ходящий файл для загрузки). Так напримересли  программа  называется HELLOW.z5 и вызнаете,  что  на диске она одна начинаетсяна  букву H, то можете просто набрать "H",для   полной   же   уверенности  набирайте"HELLOW.z5".  Огромное  спасибо  John'у Elliott'у, чьиисходники ZXZVM под Spectrum +3 с OC +3DOSя  использовал, а также Gloom Demons Inc.,а особенно Александру Тертышному за помощьв выводе каталога по маске.  Если  кто-то  заинтересовался,  то черезwww.ifarchive.org  можно  найти исходники,описание  "Стандарт  Z-machine  V1.0", ес-тественно  все на английском языке. Данныевещи есть и у меня.  Со всеми пожеланиями и предложениями об-ращаться по:Email: Vitan2001@mail.ru (Тема: Z-code)Phone:  (0612) 43-98-60 (Спросить Сашу илиМаксима)Адрес:  69123, г. Запорожье, ул. Хортицкоешоссе 18/29, Вишневскому М.В.                 Hardware  Pentagon 512  Amiga 500 + 1 Мб + ROM v2.05                 Software  ZXASM  v3.10 - как один из немногих под-держивающих метки >7 символов  STS 5.1, 6.2  BV v2.11  Conver Commander v4.61  Real Commander v2.1  TRMSHOB  PCUf  Brujeria  BGE v3.05  Is-Dos Editor  Workbench  Frotz                 Hello to                   Alos                 Alos Jnr            Михаил Максименко                  Priest                 Midisoft                 Sashulya             Александр Чуйков                  Thrash                  Grunge             Александр Рубцов              Игорь Буртылев                 K.C.Soft   Александр, музыкант из Севастополя - единственный человек имеющий работающий         General Sound на Украине                            27 ноября 2001