v?.?, 7.11.2018

Первая отдельная сборка с командной строкой.

v?.?, 10.11.2018

+ добавлена установка текущего времени при сохранении файла (часы по схеме Mr.Gluk'а)
- не работало сохранение в TR-DOS
+ ускорена работа с TR-DOS
+ добавлена многозадачность (пока кроме файловых операций, но работы ведутся), переключение визуальных процессов (т.е. тех, кто сделал CMD_SETGFX) по Symbol Shift + Enter (пока без восстановления экрана)

v?.?, 12.11.2018

- глючил CMD_YIELD
+ добавлен макрос YIELD, который может выполнять функцию halt
+ добавлен системный таймер (считает по 1/50 секунды) и CMD_READTIMER
+ реализован QUIT
+ добавлено чтение матрицы клавиатуры (для задачи не в фокусе возвращает везде #ff): CMD_GETKEYMATRIX
+ файловые операции и передача данных в BDOS может вестись по любому адресу в userspace
+ ускорена работа с TR-DOS, больше нет мерцания на экране
+ поддержаны разрезанные файлы в TR-DOS (по стандарту файлов последовательного доступа TR-DOS)
+ в командной строке появилась команда del <filename>
+ при запуске программы ей передаётся командная строка в #0080..#00ff

v?.?, 13.11.2018

- глючило одновременное открытие каталога двумя задачами
- YIELD не работал при sp=#4000..#bfff
+ добавлен мьютекс при вызове BDOS
- после QUIT ни одна задача не получала фокус и команду на перерисовку
- при очистке экрана было видно пиксели
+ можно одновременно открыть до 7 файлов на FAT и до 8 файлов на TR-DOS
+ в cmd добавлена функция copy <filename1> <filename2>
- в TR-DOS: если при поиске в директории нет ни одного файла на нужный шаблон, то было зацикливание (DimkaM)

v?.?, 15.11.2018

- в FAT: если при поиске в директории нет ни одного файла на нужный шаблон, то было зацикливание (DimkaM)
- не хватало глубины стека процесса для FatFS - увеличено до 150 байт
+ CMD_CLS ставит координаты курсора в 0
+ добавлена команда CMD_MOUNT (вызывается в начале работы системы для создания драйва в списка драйвов), команда CMD_REMOUNT заменена на CMD_SETDRV
+ PRCHAR использует кодировку 866
+ в команде cd можно передавать путь, причём вместе с номером драйва
+ у каждой задачи свой текущий драйв и своя текущая директория
+ у операций чтения директории нет глобального состояния - можно читать директории многозадачно
+ добавлены макросы для всех команд BDOS: OS_....
+ добавлена задача idle, которая инициализирует драйвы, грузит cmd.com и входит в бесконечный цикл
+ после dir пишется число файлов
+ добавлена команда OS_GETATTR (читает цвет по текущим координатам)
+ в cmd при запуске файлов, если не указано расширение, автоматически добавляется .com
+ при создании задач очищается их командная строка
+ добавлен Nedovigator - пока умеет только запускать .$c (с выходом из NedoOS) и .com

v?.?, 16.11.2018

+ в Nedovigator добавлено копирование на противоположную панель (кнопка 5)
- при открытии файла в FCB не прописывался драйв (volume) и не проверялся при чтении-записи, из-за этого не работало копирование между драйвами
+ в Nedovigator добавлено удаление текущего файла (кнопка 8)
+ если cmd вызван с параметрами, то они воспринимаются как командная строка
+ в Nedovigator'е можно выполнить любую команду (cmd для этого пока ищется на текущем диске в текущей директории)
- очистка экрана в текстовом режиме работала не полностью
+ в Nedovigator'е можно менять драйв в текущей панели (цифрами)
- Nedovigator повисал при отсутствии файлов в панели
+ добавлена команда OS_WAITPID (возвращает 0 при закрытии задачи с заданным id)
- в TRDOSFS неправильно возвращался код ошибки (#80 значит, что ни одного байта не считали)
+ в cmd можно выполнять файлы .bat (после последней строки должен быть перевод строки!)
- в cmd при исполнении пустой команды писалась ошибка
+ в cmd добавлена пустая команда rem
+ в Nedovigator добавлена кнопка Esc (Caps Shift + Space, Break) для выхода
+ в Nedovigator'е пишется число файлов в директории и их общий размер

v?.?, 22.11.2018

+ в Nedovigator'е после исполнения команды командная строка очищается
+ в Nedovigator'е обе панели обновляются только тогда, когда нужно (смена фокуса, копирование или одинаковые панели после операции)
- в Nedovigator'е удалялись непустые директории - добавлена защита от удаления пустой директории
+ в описателе задачи добавлен parentid, чтобы при перезахвате id нельзя было перепутать задачи (DimkaM)
+ задача idle не занимает ни одной страницы памяти
+ Nedovigator занимает одну страничку, а не 4
+ cmd занимает одну страничку, а не 4
* система не держит данные в 128K страничках, чтобы в будущем можно было избежать гибернации при запуске 128K программ (DimkaM)
+ добавлена команда OS_MKDIR
+ в cmd добавлена команда md (make dir)
+ задача idle опрашивает одновременное нажатие C+M+D, по которому запускает cmd.com
+ добавлена команда OS_RENAME (пока только для FAT)
+ в cmd добавлена команда ren (умеет и перемещать файлы)
+ атрибуты файла из FAT передаются в FCB полностью
* OS_READFIRST и OS_READNEXT в конце каталога возвращают ошибку, а не пустое имя файла
+ добавлена команда OS_SETSYSDRV и константа SYSDRV в main.asm
+ задача idle грузит cmd с дисковода SYSDRV, а не с 4:
+ Nedovigator грузит cmd с дисковода SYSDRV, а не из текущей директории
+ в Nedovigator'е при непустой команде Enter всегда выполняет команду
+ Nedovigator ожидает выполнения команды, а после выполнения захватывает фокус, перечитывает панели и перерисовывает экран
- в TR-DOS OS_READFIRST и OS_READNEXT не устанавливали атрибуты файла
+ в TR-DOS поддержано 3-символьное расширение (также изменён nedotrd.exe)
+ Nedovigator проверяет все 3 символа расширения .com
+ в Nedovigator добавлено создание директории (кнопка "7")
+ в Nedovigator добавлено переименование файла/директории (кнопка "6")
+ в Nedovigator при попытке выхода спрашивается подтверждение
- TR-DOS висла при нажатии Break
+ поддержан русский язык. Для чтения клавиш вне зависимости от языка добавлена команда OS_GETKEYNOLANG (также возвращает состояние мыши, как и GET_KEY)
+ в Nedovigator'е добавлена пометка (Space)
+ в Nedovigator'е удаление файлов - только помеченных, с подтверждением
+ в Nedovigator'е переключение режимов и порядка сортировки
+ добавлен буфер клавиатуры на 5 кнопок

v?.?, 23.11.2018

- в Nedovigator'е не удалялась пустая директория после удаления другой директории
- в Nedovigator'е при ошибке выполнения команды не возвращался фокус
+ в Nedovigator'е при запуске файла .com ему формируется командная строка с именем
+ в Nedovigator'е добавлены кнопки PageUp и PageDown
* в Nedovigator'е изменены кнопки режимов сортировки на ss1..4, добавлен режим "без сортировки" (ss5), при переключении режимов устанавливается порядок по возрастанию
- команда OS_GETKEYNOLANG глючила
+ в Nedovigator'е копирование файлов - только помеченных
+ в Nedovigator'е добавлена инверсия пометки файлов (*)
+ в Nedovigator'е файлы "." и ".." не помечаются и не входят в подсчёт количества файлов
- при запуске nv из cmd мог временно портиться экран, сделана задержка перед входом
- при закрытии задачи другая задача не получала команду key_redraw
+ в Nedovigator'е добавлена ассоциация запускальщиков файлов по расширению (расширения и запускальщики описаны в файле nv.ext)

v?.?, 27.11.2018

- коды cs1,cs2 не выдаются при чтении через GET_KEY (но видны при чтении через OS_GETKEYNOLANG) (DimkaM)
- OS_SETGFX при e=-1 выключает отображение текущей задачи и отдаёт фокус
- фокус передаётся случайной задаче только в случае, если он был у текущей задачи
- после выполнения команды в Nedovigator'е фокус не возвращался к Nedovigator'у (AcidRain), также запускаемой через команду программе (а она запускается по фону) даётся время на перерисовку (25 фреймов, дальше ей придётся рисовать по экрану Nedovigator'а)
+ при старте системы idle запускает autoexec.bat (после выполнения которого начинается интерактивный режим cmd)
+ исходники ядра, приложений и библиотек разложены по каталогам
- в Nedovigator'е была ошибка обработки ассоциаций файлов
+ cmd может запускать файлы с указанием пути
[+ cmd перед исполнением команды из командной строки (#0080) выводит её на экран (закомментировано)]
- в Nedovigator'е при старте, переключении панелей и перерисовке не обновлялось приглашение командной строки
- в Nedovigator'е при запуске программы-обработчика по расширению не устанавливался системный диск
- в cmd не работал путь к файлу в командной строке
+ более равномерная прокрутка текстового экрана
+ в Nedovigator'e добавлено копирование файла под курсором при отсутствии помеченных
- в TRDOSFS при одновременном открытии нескольких файлов на чтение неправильно отрабатывался конец файла
+ добавлена команда OS_FWRITE_NBYTES, копирование в cmd и nv сделано через неё, чтобы сохранить точную длину файла
- cmd после вывода ошибки не выключал красный цвет
+ число одновременно открытых файлов на FAT увеличено до 8

v?.?, 30.11.2018

* Nedovigator при старте показывает текущий дисковод в обеих панелях
- в Nedovigator'е после старта или выбора дисковода не показывался слеш в пути панели
+ в Nedovigator'е выбор дисководов теперь из меню (кнопки 1, 2 для левой и правой панели)
- в Nedovigator'е не работала сортировка "без сортировки" в обратном порядке
+ в Nedovigator'e добавлен просмотрщик текстовых файлов (кнопка 3)
+ в Nedovigator'e добавлено удаление файла под курсором при отсутствии помеченных
+ в Nedovigator'e при наличии помеченных файлов показывается их количество и размер
+ в Nedovigator'e после отмены копирования или удаления не забывается положение курсора и пометка
+ добавлены функции OS_SCROLLUP, OS_SCROLLDOWN (сдвиг окна в текстовом режиме)
+ в Nedovigator'e ускорена прокрутка каталога
+ в FatFS поддержаны русские имена (DimkaM)
* в Nedovigator'e кнопки сортировки переставлены в соответствии с порядком столбцов каталога: имя, расширение, размер, дата
+ в Nedovigator'e ускорен показ числа файлов при копировании или удалении
- в Nedovigator'e длинный путь мог вылезать за заголовок панели, теперь обрезается
- в Nedovigator'e при смене диска забывалась пометка на другой панели
+ в Nedovigator'e у просмотрщика добавлено переключение переноса строк (кнопка w)
+ в Nedovigator'e при копировании показывается полоса прогресса
* изменены вызовы OS_NEWAPP (возвращает ошибку при невозможности создать задачу) и OS_GETKEYMATRIX (результат в bcdehlix)
+ добавлены функции OS_OPENHANDLE, OS_CREATEHANDLE, OS_CLOSEHANDLE, OS_READHANDLE, OS_WRITEHANDLE (можно передать имя файла с драйвом и путём и любую длину)
+ добавлены функции OS_SEEKHANDLE, OS_TELLHANDLE
+ в Nedovigator'e добавлены Home и End
- в Nedovigator'e нельзя было вводить символы !@#$%490 при непустой командной строке
+ в cmd можно копировать файлы с драйвом и путём
- стек idle мог запортить систему

v?.?, 04.12.2018

- OS_OPENHANDLE, OS_CREATEHANDLE при отсутствии пути работали в корне диска, а не в текущей директории
+ ускорено копирование в cmd и nv
+ в Nedovigator'e ускорен расчёт номера текущей строки при листании постранично
- OS_TELLHANDLE не работала
- OS_READHANDLE, OS_WRITEHANDLE возвращали неправильную прочитанную длину при блоке >=#3f00
+ добавлены функции OS_SETFILETIME, OS_GETFILETIME
+ в Nedovigator'e при копировании копируется дата оригинального файла
+ в Nedovigator'e при просмотре текста добавлена кнопка перехода на hex viewer

v?.?, 07.12.2018

- в idle, cmd и nv неправильно освобождались страницы, в итоге могло неправильно работать групповое копирование в nv
+ в cmd добавлена команда mem - показывает число свободных страниц памяти
+ добавлена функция OS_GETTIME
+ в cmd добавлена команда date - показывает текущее время
+ добавлена версия, настроенная под драйв 1 (HDD) - собирается через makea3hd.bat. Инсталляция: запустить makeatm3.bat, потом надо скопировать все файлы с test.trd на драйв 1, потом запустить makea3hd.bat, скопировать code.$c на драйв 1. После этого можно запускать систему (code.$c) с HDD
+ в hex viewer (теперь hex editor) добавлены стрелки влево, вправо, PgUp, PgDn, ввод цифрами и a-f, csEnter (сохранение), в просмотрщике переключение кодировок перенесено на кнопку "s", а переход в hex editor - Tab (Caps Shift + Symbol Shift)

v?.?, 20.12.2018

- просмотрщик в Nedovigator'е неправильно отображал тексты с концом строки LF при сдвиге экрана
- просмотрщик в Nedovigator'е при переключении wrap не выключал сдвиг экрана, а если это происходило в конце файла, то не полностью перерисовывал экран и оставлял несогласованный адрес нижней границы текста
+ добавлена функция OS_GETXY
+ переименование в TRDOSFS теперь работает
+ добавлен текстовый редактор texted (привязан к расширению .txt), пока примитивный. Сохранение - Caps Shift + Enter, выход - Esc (Caps Shift + Space)

v?.?, 25.12.2018

- texted неправильно редактировал после конца строки и в последней непустой строке, а стирание перевода строки не ставило курсор в нужное место
+ в texted добавлены кнопки Home, End, PgUp, PgDn, а Del теперь умеет стирать перевод строки
+ texted может редактировать файл любого размера, сколько хватит памяти
- в cmd после запуска .com-файла с путём не восстанавливался текущий путь (DimkaM)
+ в cmd кнопка "вверх" возвращает предыдущую команду
- в nv нельзя было ввести цифру 3 внутри команды
+ в nv добавлен вызов texted по кнопке 4 (пока без передачи фокуса)
+ в hex viewer добавлен выход в просмотрщик текста, в то же место - Tab (Caps Shift + Symbol Shift)
+ добавлены функции OS_GETAPPMAINPAGES, GET_DROPAPP
+ в cmd добавлена команда proc - показать текущие процессы
+ в cmd добавлена команда drop <ID> - удалить процесс с заданным номером
+ в cmd добавлена команда start <path/filename> - запустить программу в фоновом режиме, требуется внутри .bat-файлов (DimkaM)
+ при сборке (make*.bat) убраны ожидания клавиш (DimkaM)
+ в cmd добавлена команда copydir <dir1> <dir2> - скопировать директорию dir1 вместе с файлами в директорию dir2 (пока нерекурсивно)

v?.?, 28.12.2018

+ в cmd добавлена команда pause
+ в cmd добавлена команда echo <сообщение>
+ в cmd добавлена команда type <path/filename>
+ в OS_GETMAINPAGES, OS_GETAPPMAINPAGES возвращаются флаги задачи в регистре C
+ в cmd команда proc показывает состояние задач
- idle не вызывалась даже при отсутствии активных задач
- OS_MKDIR (и md в cmd) не создавал директорию, если в пути присутствовал номер драйва
+ copydir копирует директории рекурсивно

v?.?, 15.01.2019

- в hex editor'е можно было выйти за пределы документа при скролле вниз
+ у каждой задачи свои координаты курсора (взятые от родительской задачи) и текущий цвет. Задача не в фокусе не печатает на экран (cls, prchar, prattr, scrollup, scrolldown) (DimkaM)
- в cmd при исполнении .bat-файлов исполнялись паразитные строки после конца файла и неправильно завершалось. Теперь автосборка NedoLang'а проходит без показа ошибок
+ добавлен NedoBasic - пока умеет команды let, print, cls, :, goto, if ... then, run, list, quit, работает с типами int (32 бита со знаком) и string (до 255 байт) при однобуквенных именах переменных типа i, a$

v?.?, 16.01.2019

+ в NedoBasic добавлены команды edit, clear, new, dim (элементы массива индексируются с 0), for i=.. to .. step .., next i, rem, gfx 0, pause, plot x,y,color, line x2,y2,color, save "file.bas", load "file.bas", system "command params", сравнения <=, >=, <> (true = -1), работа с символами строки как с числами (a$(0)), функция $rnd (выдаёт числа 0..65535, после слова надо пробел!), прерывание по кнопке Esc (Break, CS+Space), запуск с файлом из командной строки, багфиксы
- OS_READHANDLE, OS_WRITEHANDLE не возращали код ошибки (реально всегда 0, т.к. FatFS это не поддерживает) - соответственно исправлен texted
+ при закрытии задачи фокус возвращается предыдущей задаче, имевшей фокус - соответственно исправлен nv
- nvview не допечатывал пробелы в конце последней строки текста

v?.?, 21.01.2019

- ssEnter работал нестабильно, теперь он переключает всегда на следующую задачу, даже если она в режиме ожидания. Также исправлена передача фокуса после выполнения cmd (например, system "proc" в NedoBasic'е)
- в опросе клавиатуры изменены некоторые коды (sys_h.asm), поддержаны коды Ext+кнопка, исправлено поведение отдельного нажатия CS после Ext, кнопки cs1, cs2, ext1 теперь передаются только в keynolang (т.е. в регистре bc). Функция OS_GETKEYNOLANG удалена, теперь через обычное GET_KEY можно узнать keynolang в bc.
+ в texted поддержаны русские буквы и клавиши SS+PgUp (переход в начало текста), SS+PgDown (переход в конец текста), такие же клавиши добавлены в nvview
+ texted существенно ускорен
- в nvview и texted исправлен расчёт номера строки (строки нумеруются с 1)
- исправлен глюк с возвратом из hex editor'а

v?.?, 24.01.2019

- в texted BackSpace не удалял первый символ текста (Graf Grey)
- при выходе из бейсика в nv не восстанавливался фокус (Graf Grey)
+ добавлен макрос WAITPID вместо одинакового цикла ожидания в каждой программе
+ добавлен флаг fwaiting для задач, ожидающих другие задачи, его состояние ('w') можно посмотреть в cmd командой proc
+ при ручном переключении фокуса не переходим на ожидающие задачи
+ в OS_SETGFX при выключении графики можно узнать текущий графический режим
+ в nv ускорена обработка кнопок перемещения курсора (Graf Grey)
+ при переключении фокуса очищается буфер клавиатуры - теперь исключено многократное обновление экрана
- при запуске программ через nv им передавалась командная строка с пробелом, в итоге asm мог "ассемблировать" файл без имени (Graf Grey)
- исправлен вызов OS_READHANDLE в io_os.i
+ добавлен образец простой утилиты на языке NedoLang под NedoOS: diff (Hippiman)

v?.?, 07.02.2019

+ добавлена утилита setfont (DimkaM) - устанавливает шрифт на ATM3, добавлены украинские буквы в том же порядке, что в кодировке 1125
- при запуске программы из cmd с указанием пути текущий путь в этой программе получался по месту размещения программы, а не как был (DimkaM)
+ добавлен вьювер bmp в 640x200 в рамках проекта browser

v?.?, 13.02.2019

+ в browser добавлены форматы gif и jpg (автоопределение по первому байту файла), немного улучшена цветопередача, выводятся картинки любого размера, а не только 640x200

v?.?, 15.02.2019

+ в browser существенно улучшена цветопередача
+ конверсия jpg существенно ускорена, поддержаны ч/б изображения, включены прерывания при конверсии
+ ускорена конверсия gif
+ в nv при обновлении экрана курсор не перемещается на начало (если число файлов в директории не стало меньше или равно позиции курсора)

v?.?, 18.02.2019

* sys_h.asm разделён на файл констант sysdefs.asm и главный файл с макросами (DimkaM), теперь примеры на NedoLang'е используют nedodefs.asm
* системная директория теперь не корневая, а bin/ (DimkaM) - в неё хранятся cmd.com, autoexec.bat, nv.ext и программы, на которые ссылается nv.ext
+ добавлены батники сборки с установкой на HDD ATM2 и на SD-карту ATM3
+ clean чистит ещё больше временных файлов, убраны лишние файлы - теперь в каталоге _OS остаётся 13M вместо 30M
+ добавлен простейший плейер музыки в форматах *.pt2 и *.pt3. Печатает имя файла при обновлении экрана, выход - Esc (CS+Space)

v?.?, 20.02.2019

+ процесс конверсии jpg показывается на экране, а после конверсии показывается время в секундах
- ч/б изображения jpg показывались как цветные
+ минимальная поддержка анимации gif
- исправлено проигрывание *.pt2
+ в browser добавлен набросок парсера html
+ в ядро добавлена поддержка сетевого интерфейса ZXNetUSB (W5300), функции см. в sys_h.asm (DimkaM)
* в sysdefs.asm константы FCB.<название> заменены на FCB_<название> (DimkaM)
+ убраны лишние файлы atm*.asm, syssets*.asm (DimkaM)
+ make*.bat автоматически запускает все build.bat во всех каталогах

v?.?, 21.02.2019

+ в browser поддержано подчёркивание, наклон, подсветка ссылок

v?.?, 23.02.2019

+ browser листает текст и позволяет кликать ссылки

v?.?, 05.03.2019

* константа End заменена на Endkey (DimkaM)
+ файлы из каталога bin добавляются в trd автоматически (DimkaM)
+ при отдельном запуске build.bat из каталога программы в конце делается ожидание клавиши (DimkaM)
+ browser работает в кодировке Win (CP1251)
+ browser при переходе на страницу устанавливает её каталог как текущий
+ в browser добавлена кнопка BackSpace (cs0) - вернуться к предыдущей странице (пока один уровень)
+ добавлен IRC-клиент dmirc и тестовые программы для ZXNETUSB (DimkaM)
+ в nv добавлена строка подсказки (Sayman)
- browser при показе больших картинок портил верхнюю строку экрана
+ немного ускорен показ gif

v?.?, 08.03.2019

+ в browser добавлены кнопки PgUp, PgDown, выход из показа картинок по csSpace (Break, Esc), а не по любой кнопке, можно смотреть несколько jpg подряд
+ в browser поддержаны символы &amp; &lt; &gt; &nbsp; &quot; и тэги title, h1..h6, em, cite, del, ins, mark, center, div, th, ul, li, p, pre, code (вне pre/code CR/LF заменяются пробелами вне начала строки), поддержаны тэги заглавными буквами
+ в browser работает http (DimkaM)
- в browser убрана утечка памяти при переходе по ссылкам вперёд и назад
+ gif ускорен на 25%
- в nv исправлена кнопка PgUp
+ добавлен FTP-клиент dmftp (DimkaM)

v?.?, 09.03.2019

+ в browser история на 64 ссылки (по BackSpace)
+ в browser добавлены кнопки: L (скачать файл по ссылке), S (сохранить текущий файл), 5 (перезагрузить файл)

v?.?, 10.03.2019

- в browser добавляется слеш в конце http запросов с голым именем домена (DimkaM)
- в browser в запросе ставится HTTP 1.0, чтобы не выдавались chunked ответы (DimkaM)
+ в browser поддержан UTF-8 (стоит по умолчанию)
+ в browser добавлены тэги meta (для определения кодировки), frame (заменяются на ссылки), script (внутренность между парами тэгов игнорируется) и несколько просто игнорируемых
- browser не печатал последнюю строку
* в browser после загрузки страницы ставится начало текста
- в browser не было задержки при чтении заголовка пакета (DimkaM)
- драйвер сетевой платы иногда грузил больше, чем просят

v?.?, 11.03.2019

- в browser исправлены тэги pre (в том числе CR) и script, убран показ заголовочных полей html, добавлен тэг frameset
+ в browser в UTF-8 поддержаны "ё", тире, центральная точка
+ в gif поддержан прозрачный цвет и анимированные gif с учётом времянок кадров (выход по любой кнопке)
- в browser исправлены относительные переходы по ссылкам и переходы по ссылкам на серверы без слеша в конце, плюс поддержаны ссылки вида "/Timex" и HREF без кавычек
+ можно вызывать browser с сокращёнными ссылками, например: browser nedopc.com
+ в browser добавлена строка статуса, где показывается полный путь к текущему файлу, ошибки (conn.err, load err) и время рендеринга
+ в browser кнопки PgUp/PgDown чистят буфер клавиатуры, добавлены кнопки Home, End, листалка существенно ускорена
* в kernel/bdospg2.asm при отключенном драйвере W5300 все функции возвращают hl=0xffff (DimkaM)
+ ожидание ответа от сервера можно прервать кнопкой Break (Esc, csSpace)
* по умолчанию browser открывает портал с работоспособными веб-страницами
+ если текст не выглядит как html, он показывается как текст в кодировке windows-1251

v?.?, 12.03.2019

+ html определяется, даже если в его начале были пробелы и переводы строки (forum.nedopc.com) или ef bb bf (UTF-8 BOM) (hippiman.16mb.com/in_progs.html)
+ добавлено ещё несколько игнорируемых тэгов для forum.nedopc.com, тэг dd переводит строку
- в gif исправлены смещения кадров по сайту gifki.ru
+ в gif поддержана задержка кадра 0 s (=0.1 s)
- иногда не отображались подписи картинок (Maksagor)
- не были видны фреймы (atmturbo.nedopc.com)
- исправлены ссылки вокруг картинок (atmturbo.nedopc.com), ссылки с переносом на следующую строку и несколько ссылок в одной строке
+ добавлен системный макрос YIELDGETKEY
+ в TRDOSFS при создании файла удаляется одноимённый текущий
+ парсер html ускорен
+ поддержаны тэги вида <a rel="nofollow" class="external text" href="http://myspeccy.com/ru"> (speccy.info) и вида <A HREF="../archivenote.html"> (www.worldofspectrum.org)
+ в html убраны лишние пробелы в начале строк
+ добавлен вызов OS_GETFILESIZE
+ поставлен User-Agent: Mozilla/4.0 (compatible; MSIE5.01; Windows NT) - теперь можно скачивать игрушки с www.worldofspectrum.org
+ в browser добавлена горячая кнопка U - переключить кодировку UTF-8/windows-1251, теперь можно читать lib.ru/win/
- числовые коды вида &#97&#102&#114&#97&#110&#105&#117&#115&#64&#110&#101&#119&#109&#97&#105&#108&#46&#114&#117 ломали разметку
+ в DNS запросе автоматически делается несколько попыток с удвоением времени

v?.?, 13.03.2019

+ показываются текстовые файлы с рекламой в начале типа <script.../script><pre>
+ в browser кнопка BackSpace помнит старое положение листалки и не вываливается, если нет истории
+ перед показом прозрачных гифок очищается фон (цветом background color), также поддержан disposal method "overwrite with bg color"
+ в browser правый край картинок в остатке знакоместа заливается чёрным
- gif из одного кадра ожидал нажатия клавиши
- висли gif'ки шириной 1 (Sashapont)
- убраны чёрные точки и следы от движения на некоторых гифках
+ gif заказывает в два раза меньше памяти (как узнать, что анимации вообще нет, чтобы ничего не заказывать?)
- неправильно очищался фон в гифках, где кадр к кадру менялся disposal method
* запускаемый файл графического редактора называется scratch.com

v?.?, 14.03.2019

- исправлен глюк в подборе цветов при конверсии картинок, из-за которого появлялись розовые полоски. Теперь удобно смотреть ч/б картинки
+ картинки больше экрана можно скроллить стрелками. Выход - Enter

v0.162.1, 17.03.2019

+ добавлен pkunzip - пока распаковывает все файлы в заданном архиве в текущую директорию, директории не создаёт. Пока не работает на TRDOSFS (там не хватает функции SEEK)
+ dmftp теперь поддерживает параметры командной строки: dmftp.com domain.name.ru [loginname [password]] (DimkaM)
+ dhcpc, dmirc обновлены (DimkaM)

v0.162.2, 19.03.2019

+ при конверсии картинок каждый кадр меняется фаза цветов и штриховки - анимация выглядит лучше
- в браузере время конверсии показывалось не сразу после конверсии, а большие картинки затирали строку статуса
+ в браузере во время загрузки показывается число занятых страниц
- исправлен показ 6909wrbg.gif
+ в браузере по умолчанию масштаб картинок 100%, а не 50%, кнопка Z переключает масштаб
+ в браузере скроллинг картинок ускорен
+ теперь в браузере нет отдельного "выхода из просмотра картинок", действуют обычные кнопки навигации
- dmirc зависал при соединении и не выходил по /quit
+ TRDOSFS поддерживает команду OS_SEEKHANDLE, теперь можно распаковывать zip-файлы на TR-DOS
- в pkunzip исправлена распаковка stored файлов, добавлена ассоциация в nv.ext
- в браузере исправлен тэг <img ... src...>, когда src - не первый параметр

v0.168.1, 24.03.2019

+ pkunzip печатает имя файла, проверяет CRC, отображает процесс сохранения и ошибки
* pkunzip существенно ускорен - теперь работает с буфером всего 32K, надо протестировать на разных архивах!
- в pkunzip были ошибки при распаковке больших архивов и плохо пакуемых файлов
- TRDOSFS не работал блоками более 16K
+ в браузере поддержаны ссылки в апострофах (zxtunes.com)
+ обновлены dhcpc, dmftp, dmirc (DimkaM)
+ в браузере добавлен тэг iframe
- в браузере исправлена обработка тэгов типа <img src="http://zxpress.ru/img/diske.png" width=21 style="padding-right: 4px" valign=top> (zxpress.ru)
- в браузере исправлена обработка пробелов внутри кавычек в параметрах тэгов

v0.171.1, 26.03.2019

+ clean.bat удаляет временные ассемблерные файлы *.s01, а также каталоги list и tmp
+ добавлено монтирование trd-образов на EvoDOS (DimkaM): dmm path/filename.trd B (где B - имя виртуального диска, по умолчанию A)
+ добавлена нумерация версий (Fyrex), пока система такая: версия 0, потом после точки номер предыдущей ревизии в репозитории, после второй точки номер релиза после слияния с ревизией
+ OS_GETPATH возвращает текущий путь в буфере размером не 64 байта, а MAXPATH_sz байт (DimkaM)
+ изменена структура файлов и каталогов в проекте: все файлы в формате 8.3, отдельные каталоги src (с отдельным каталогом nedolang внутри) и release, добавлены makeall.bat (собрать все версии в trd) и cleanrls.bat (очистить release)
* в браузере убрано костыльное перекодирование &amp; в ссылках (DimkaM)
+ в браузере поддержаны <img src... и alt... без кавычек и с апострофами
- в браузере исправлено повисание на длинных страницах
+ в nv после включения видеорежима съедается key_redraw от закрытия dhcpc, чтобы не перерисовывать второй раз

v0.182.1, 28.03.2019

- в браузере при предварительном рендере картинок не показывалась последняя строка
+ в браузере добавлена поддержка PNG (пока без интерлейса)
+ обновлён dmm (DimkaM) - поддерживает scl и fdi
- браузер показывал длинные ссылки с порчей экрана
+ в браузере добавлена кнопка E - отредактировать url (действуют стрелки влево, вправо, Enter, BackSpace (Caps Shift+0))

v0.183.1, 29.03.2019

+ в браузере добавлен костыль для обработки ошибочных & (вместо &amp;) в html
- в ядре исправлена работа с двумя экранами
+ добавлен просмотрщик NedoView - смотрит scr (6144 и 6912), fnt (в линейном и экранном формате, 768 и 2048), img (два экрана с мерцанием), 3 (редакторы AGA, 8col)
- в браузере исправлен DNS resolver (DimkaM)
+ обновлён dmm (DimkaM) - автоматически выбирает рамдиск для scl и fdi

v0.183.2, 29.03.2019

+ в NedoView добавлены форматы 888 (редактор 8col), + или - (редактор MultiStudio), Y (упакованная 8-цветная картинка для просмотрщика ManyColor+/XColor+), plc (Laser Compact 5), mc (мультиколор), mcx (мультиколор с мерцанием), grf (аппаратный мультиколор ATM/Profi), ch$ (большие картинки с атрибутами, с мерцанием и без)
+ в браузере поддержаны тэги вида <img src=link />, а неиспользуемые тэги пропускаются полностью

v0.183.3, 30.03.2019

+ в браузере обходится текст между тэгами <style></style> (http://www.teoma.com/web?q=zx+spectrum&page=1)
+ ускорен драйвер ZXNETUSB

v0.183.4, 31.03.2019

- исправлен сломанный запуск *.$c
- в архиве исправлены оставшиеся имена файлов под формат 8.3
- палитровые png показывались как grayscale
* pkunzip переводит имена в формат 8.3 (иначе файлы не создавались в FatFS)
+ освобождено 4 килобайта в pgtrdosfs под будущие расширения ядра (DimkaM)

v0.188.1, 03.04.2019

- при создании задачи ей ставился драйв 4 вместо SYSDRV
- переход на несуществующий драйв вешал систему
+ добавлен вызов OS_DELETE (удаляет файл или директорию по ASCIIZ-строке без FCB) (DimkaM)
+ в cmd команда del может использовать полный путь
- OS_MKDIR и в cmd команда md меняли текущий дисковод
+ добавлены вызовы OS_ACCEPT, OS_BIND, OS_LISTEN (DimkaM)

v0.190.1, 04.04.2019

+ добавлен вебсервер 3ws - расшаривает весь текущий драйв по HTTP (DimkaM)
+ добавлен modplay - плейер mod-файлов на General Sound. Параметр - имя mod-файла, грузим модуль и выходим. Без параметра останавливает проигрывание.
+ добавлена программа reset (DimkaM)
- исправлен глюк предыдущей версии с OS_SETPATH "4:/"
+ теперь программы, установленные в bin/ системного диска, можно запускать в командной строке из любой директории любого диска (сначала программа ищется в текущей директории, потом в системном bin/)
- mkatm2.bat, mkatm2hd.bat вызывали эмулятор с неправильными настройками

v0.190.2, 05.04.2019

+ pkunzip поддерживает формат *.gz
+ pkunzip умеет распаковывать файлы нулевой длины
- pkunzip иногда вис после распаковки (Sashapont)
+ pkunzip умеет распаковывать директории
+ добавлена утилита tar для распаковки архивов *.tar
* sjasmplus заменён на более свежую версию (теперь можно выгружать метки в диапазоне 0..0x3fff для отладки)

v0.192.1, 05.04.2019

* браузер заменяет в ссылках &amp; на &, а обычный & не трогает (DimkaM)
+ браузер отдельно подкрашивает ссылки на картинки и фреймы (зелёным)
- в браузере могла быть ошибка отображения многострочного тэга mark
+ dmm умеет перемонтировать TRD (DimkaM) (будьте осторожны при системном диске 4:)
- при запуске программ, установленных в bin/ системного диска, не выставлялся текущий путь
+ поддержаны *.gz без имени файла внутри
+ поддержано перенаправление в http (Location: на сайте http://amp.dascene.net/detail.php?detail=modules&view=13288 по клику на MOD-файл)

v0.195.1, 08.04.2019

+ в dhcpc (он переименовался в wizcfg) добавлено чтение конфиг-файла net.ini (DimkaM)
- не работали href типа "./link" (DimkaM)

v0.195.2, 09.04.2019

+ добавлена игра tetris
+ добавлена игра snake
+ добавлена игра tank

v0.195.3, 10.04.2019

+ в NedoView добавлены форматы *.rm (R-Mode), *.mg1, *.mg2, *.mg4, *.mg8 (насколько их удалось понять без описания)
* начата подготовка к увеличению числа файлов в nv (Hippiman) - пока число файлов только 512, но надо протестировать в разных режимах!

v0.198.1, 11.04.2019

+ в браузере кнопка L вызывает wget (DimkaM)
- в tank не показывался Game over, убраны полоски на бордере (Sashapont)
+ обновлён wget (DimkaM)
+ OS_WAITPID не выставляет флаг waiting, его можно выставить вручную через OS_SETWAITING. Так можно определить существование дочерней задачи не в цикле WAITPID
+ браузер на выходе проверяет существование wget и выставляет для него флаг (DimkaM)

v0.199.1, 12.04.2019

- QUIT неправильно работал при SP в окне 0x4000..0x7fff (DimkaM)
+ wget теперь многозадачный (DimkaM)

v0.200.1, 12.04.2019

- wget не докачивал некоторые файлы (DimkaM)
- scratch неправильно компилировался новой версией sjasmplus
- для тестирования самосборки NedoLang не хватало файлов на дискете (собирать надо на SD/HDD, раскидать файлы по двум каталогам, как в оригинале, и запускать из cmd, иначе не хватит свободных файлов)

v0.201.1, 16.04.2019

- в тетрисе не хватало фигурки "T"
- убрана пара лишних *.txt на дискете
- wget опять не докачивал некоторые файлы (DimkaM)
- была ошибка инициализации TRDOSFS (DimkaM)
+ новый эмулятор с поддержкой ZXNETUSB (DimkaM)

v0.201.2, 17.04.2019

* командер перекрашен в серый цвет (Fyrex)
* страницы памяти заказываются с конца памяти (Maksagor)
+ в bat-файлах сборки добавлены настройки объёма памяти и контроллера IDE, добавлен bat-файл для Pentagon 2.666LE

v0.206.1, 22.04.2019

+ buildiar.bat переделан для совместимости с wine (DimkaM)
+ добавлен unrar (пока распаковывает только первый файл в архиве)
+ добавлен запуск снапшотов (.sna) (DimkaM) - альфа-версия

v0.209.1, 24.04.2019

+ unrar перекодирует имена файлов в 8.3 и сам создаёт каталоги
+ unrar показывает имя архива, все файлы в архиве и статистику по архиву, а также время распаковки
- unrar не показывал архив второй раз
+ в unrar можно задавать маску типа M*.EXE
+ добавлен, по кнопке NMI, возврат в OS из снапшота (DimkaM)
- поправлен баг с запуском 48K снапшотов (DimkaM)
+ снапшоты остаются висеть (остановленными) в процессах, для продолжения их работы (DimkaM)
+ добавлено сохранение снапшотов (DimkaM)
+ поддержано 4 дисковода TR-DOS (4: 5: 6: 7:)
+ бейсик-файлы в TR-DOS показываются без лишних символов в расширении, всегда как .B

v0.212.1, 27.04.2019

* системные страницы тоже расположены с конца памяти
+ добавлен запуск бейсиков с TR-DOS (DimkaM) с дискеты А (пресет 3.5MHz 128K)
- в TRDOSFS исправлен выбор дисковода через #1, #18 (Savelij13)

v0.r92.1, 29.04.2019

+ wget - get name from url, if no name in header (DimkaM)
- dmm.com - исправил перемаунт trd на scl. добавил проверку размера trd (DimkaM)
+ basic - add cmdline keys (demige):
 -t input file in text format
 -n do not autostart input file
 -v show version info
 -h show usage info
+ basic - add support fot text input files (demige)
- basic - cure bug in cmd_save (demige)
- 3ws исправлен баг с системным драйвом (DimkaM)
+ zxrar теперь умеет создавать пустой архив (больше пока ничего не умеет)

v0.r96.1, 30.04.2019

+ поддержана сборка под Linux (demige)
+ в NedoPlayer поддержаны модули из Vortex Tracker
- 3ws - очередной фикс системного драйва (DimkaM)
~ dmm - незначительные изменения (DimkaM)
+ nmisvc - сохранение снапшотов в папкуtmp, если запущено с FDD (DimkaM)
- nmisvc - восстановление страницы #FF (DimkaM)
+ nmisvc - смена текущего дисковода при запуске .B (DimkaM)
+ zxrar может создать архив из одного файла (файл пока не более 24K)

v0.r102.1, 04.05.2019

+ nmisvc - альфа-версия запускателя .z80 (DimkaM)
+ nmisvc - добавлен пустой запуск, для запуска бейсиков (DimkaM)
+ dmm - если .tap, то запускает nmisvc (DimkaM)
+ обновлён zxevo.rom (Savelij13)
- в NedoBrowser были разнообразные глюки, если какой-то элемент на сайте был больше 512 байт
- zxrar заказывал мегабайт памяти
+ zxrar пакует файл до 32K
+ в zxrar показывается процесс и окончание упаковки
+ в zxrar сохраняется правильное имя файла
- unrar преувеличивал длину сохраняемого файла

v0.r105.1, 07.05.2019

- nmisvc.com: портилась ячейка памяти при запуске .B (DimkaM)
+ добавлен nmisvc.txt с описанием nmisvc (DimkaM)
+ снова обновлён zxevo.rom (Savelij13)
+ в TRDOSFS добавлен обработчик ошибок: красный бордер, ожидание кнопки R - retry, A - abort, I - ignore (DimkaM)
+ zxrar пакует файл до 16M
+ zxrar может добавлять файл в конец архива (имя архива mynewrar.rar)

v0.r106.1, 10.05.2019

+ nv поддерживает до 8192 файлов на панели (Lord Vader), пока страницы заказаны статически
- wget подмена пробелов в url на %20 (DimkaM)

v0.r111.1, 23.05.2019

+ начал драйвер ps/2 клавиатуры (DimkaM)
+ Basic version 0.11 (demige):
Start from now basic.com by default load in text format
Added cmdline parameter "-c" for old fast load in "code" format
New commands loadcode, savecode for old "code" format
+ nv in prwindow_waitkey (demige):
Dialog window redraw disabled by now (commented)
Added reaction for n,N,y,Y
- nv ran the file even if the extension was not found in nv.ext (demige)
* nv exit on "0" key (demige)
* в nedotrd по умолчанию размер сегмента файла равен 65280 байт
+ добавлена альфа-версия игры untangle

v0.r111.2, 24.05.2019

+ untangle: добавлена проверка коллинеарных отрезков
- untangle: первый отрезок меша генерировался неправильно
- untangle: при движении не затираются линии
+ untangle: показывается номер уровня

v0.r111.3, 25.05.2019

+ untangle, nedobasic: ускорена линия
- untangle, nedobasic: в линии убран лишний пиксель
- untangle: при начале движения не затираются линии
+ untangle: добавлен выход по Esc (Break, Caps Shift+Space)
- untangle: убраны переполнения по вершинам и рёбрам
+ untangle: добавлен таймер
+ untangle: добавлена кнопка NEXT LEVEL при победе
+ untangle: ускорена проверка пересечений в конце движения

v0.r115.1, 26.05.2019

- при доступе к дисководу могло произойти повисание
* изменены дефайны для кнопок, исправлены все программы

v0.r118.1, 30.05.2019

+ untangle: проверка пересечений ускорена в 5 раз, ускорено рисование линий
- untangle: неправильно проверялось примыкание
- TRDOSFS не работал при нажатом Break, теперь ожидает отжатия Break
+ untangle: добавлено сохранение состояния при выходе в файл untangle.ini и загрузка его при старте (если он есть) (Lord Vader)
+ updated build engine for linux (demige)

v0.r123.1, 05.06.2019

+ tetris: добавлен показ следующей фигуры (Lord Vader)
+ nv: динамическое выделение памяти под панели (demige)
+ в ядре добавлена поддержка разделов, теперь драйвы обозначаются буквами (A:..D: - FDD, E:..H: - SD-карта и т.д.) (DimkaM)
+ сборка образа SD-карты и HDD (DimkaM)
+ оптимизирована сборка. Исключена множественная сборка софта (DimkaM)

v0.r141.1, 15.06.2019

* patched linux build doc (Lord Vader)
- nmisvc: исправлена ошибка запуска .B файлов (DimkaM)
- 3ws: на вебморду добавлена кнопка килять 3ws (DimkaM)
+ tetris: ускорена отрисовка
- nmisvc: не работала эмуляция тапки (DimkaM)
+ wget: немного ускорена скачка (DimkaM)
+ nv: убрана одноточка (DimkaM)
* фиксы сборки под Linux (demige)
+ nv: поддержка кнопок F1-F10 (DimkaM)
- исправлена документация (DimkaM)
+ добавил в керналь линковку ps/2 драйвера при PS2KBD EQU 0x01 (DimkaM)
+ добавлена игра smb (управление стрелками, A = jump, S = run/bomb, Enter = Start, Space = Select)

v0.r145.1, 18.06.2019

+ опрос клавиатуры ускорен на 2131 такт
+ чтение времени из часов происходит только каждое 8-е прерывание
+ smb: ускорена логика и графический движок, улучшена музыка, добавлен выход по Esc (Break, Caps Shift + Space)
- smb: не чистился второй экран при входе
+ функции отрисовки в ядре теперь работают с текущим экраном, а не с нулевым
* tank: опрос клавиш теперь такой же, как в smb: стрелки и A = fire (раньше при стрельбе пробелом срабатывал выход)
+ в драйвере w5300 реализовано освобождение сокетов закрываемого приложения. Также реализована защита сокетов от доступа из другого процесса (DimkaM)
+ tar: если параметр - не архив .tar, то это имя файла, из которого создастся архив (пока только один файл в архиве). Имя архива соответствует имени файла, с заменой расширения на .tar
+ драйвер PS/2: поддержка NumLock (DimkaM)
+ начал конфиг ZX Evo (DimkaM)

v0.r145.2, 19.06.2019

- OS_GETFILETIME не работало
+ tar: правильно сохраняется дата файла
* переключение псевдографики перенесено на Ext+Enter (Tab+Enter, Caps Shift+Symbol Shift+Enter), чтобы не пересекалось с F1, заодно почищен sysdefs.asm и добавлены рекомендации по программированию в nedoos.txt

v0.r145.3, 19.06.2019

+ tar восстанавливает дату файла из архива
+ в tar можно класть директорию
+ smb: в музыке не зависают ноты (но теперь они, кажется, слишком короткие)

v0.r145.4, 20.06.2019

* tar формирует архив в текущей директории

v0.r145.5, 28.06.2019

+ smb: в исходнике поддержано проигрывание дем в трёх разных форматах (пока ни одна не проходит больше двух уровней), ускорена логика
+ unrar: распаковка значительно ускорена через генерацию кода разбора дерева (retree)

v0.r145.6, 01.07.2019

+ smb: поддержана палитра, приоритет спрайтов-фона, ускорен фон и спрайты, исправлена ускоренная логика, добавлена запись дем, брякпоинты в демах, флаг отключения отрисовки до брякпоинта
+ tank: после убийства врагов наступает новый уровень

v0.r145.7, 03.07.2019

+ smb: исправлены цвета, добавлено мерцание, музыка на прерываниях и с ударниками
- kernel: при переключении дисководов опять портился аккумулятор (Savelij13)

v0.r145.8, 04.07.2019

+ tar: рекурсивно пакуются директории, показываются сообщения
* tar: команда типа "tar E:/dir/file" не кладёт E:/dir в архив
- cmd: возможно было повисание в конце copydir
- cmd: возможна была порча таймера в runapp
- comp, tok, asm требовали чистую память. Проверить работоспособность можно так: скопировать на SD-карту каталоги _sdk и nedolang, в каталог nedolang/comp скопировать comp.com, tok.com, asm.com, потом из голого cmd запустить test.bat (в каталоге nedolang/comp). На запрос pause нажать Enter. В конце должен получиться comp_os.bin такой же, как comp.com.

v0.r178.1, 04.07.2019

- w5300 socket creation bugfix (demige)
+ Telnet (demige)
+ Ping (demige)
+ Makefile added evosd (enabled sd driver) (demige)
* добавлена поддержка USB-flash. Изменена нумерация дисков (DimkaM):
A-D: FDD
E-H: HDD master
I-L: HDD slave
M: z-SD
N: ngs-SD
O: USB-flash
- nmisvc портил память при возврате по nmi (DimkaM)
+ добавлен sdk в директорию release (DimkaM)
+ unreal: в эмуляцию визнета добавлен IPRAW (DimkaM)
+ утилита settime с поддержкой NTP (DimkaM)

v0.r197.1, 24.07.2019

- bugfixes in nedolang build system in Linux (demige)
+ nv: сохраняет текстовый экран программы, запущенной из командной строки. Переключение между экраном программы и nv - кнопка '9' (F9)
- Telnet: Fixed bug with "echo" negotiation (demige)
- dmm.com bugfix (demige)
+ nv: рекурсивное удаление и копирование файлов (demige)
+ SMB требует smb.nes, ускорено на 40000 тактов
+ texted добавлена кнопка F2 для сохранения (DimkaM)
+ wget понимает IP (DimkaM)
+ wizcfg работает через драйвер ОСи и не тормозит загрузку (DimkaM)
* обновлён ERS в эмуляторе (DimkaM)
* изменен автоэкзек для тихого запуска wizcfg (DimkaM)
* изменён момент присваивания dst-порта в драйвере w5300 (DimkaM)
+ cmd: added *nix like aliases for commands (ls, rm, cp, mv, kill, free, mkdir) (demige)
- cmd: error with parsing ':' in cmdline (demige)
- cmd: in bat files didn't run last line without crln in the end (demige)
- pkunzip: fixed creating dirs
- settime: добавлена обработка ошибки при неответе сервера (DimkaM)
+ settime выводит текущее время при запуске без параметров. поэтому переименован в time.com (DimkaM)
+ nv: Color highlighting for dirs, executables. Enhanced statusbar (demige)
+ nv: New copy dialog (demige)
+ nv: 'INS' also select files (demige)
+ nv: highlighting current panel head (demige)
- wizcfg исправлен параметр -v (DimkaM)
* документация переведена в кодировку 866 (Crazy Bender)
- версия для Pentagon 2.666LE исправлена, добавлена версия с установкой на SD-карту
* в oscalls.asm убрана зависимость от syssets.asm
+ OS_SETDRV возвращает ошибку

v0.r205.1, 08.08.2019

- фиксы dmmh и ядра (DimkaM, Savelij13)
- фиксы nmisvc (DimkaM)
* фиксы интерфейса nv (demige)
+ smb: исправлен цвет пуль, теперь есть полная дема прохождения: antipac.fm2

v0.r210.1, 28.08.2019

* в версии для Pentagon 2.666LE временно добавлены di..ei при обращении к SD-карте (ключ KOEDI, см. батники)
* в связи с обновлением ERS'а - обновлен керналь, dmm и собственно ROM в папке эмуля
НЕОБХОДИМО ОБНОВИТЬ ERS !!! (Savelij13, DimkaM)
+ в ядре оптимизирован вызов 3d13 (DimkaM)
- в вебморде web-сервера исправлен js. блокировался на клиенте последний закачанный файл (DimkaM)
- на плёночной клавиатуре клавиши с CS могли иногда срабатывать неправильно
+ начат перевод документации на английский (Louisa)

v0.r211.1, 01.09.2019

+ добавлен вызов OS_SETBORDER
+ начато портирование wolf3d
* в вызовах BDOS_getappmainpages, BDOS_getscreenpages, BDOS_setscreen убран возврат кода ошибки

v0.r211.2, 02.09.2019

- бордер мигал (demige)

v0.r211.3, 14.09.2019

+ добавлена игра Чёрный Ворон (by Copper Feet 1997), с сохранением в файловой системе и выходом в NedoOS (по существующим опциям, а из final cut - по Break).
how to run any level:
press Space - menu appears
press 8 - see numbers
press 1/2-(+/-Level) ;3-(on/off) super energy
press 6 - back to menu
start new game

v0.r211.4, 22.09.2019

+ добавлены OS_READSECTORS, OS_WRITESECTORS
* OS_SETDRV не возвращает число драйвов
- были глюки при смене дисков TR-DOS

v0.r211.4, 22.09.2019

- cmd после r211.3 (убраны CP/M вызовы) не запускал программы по имени без .com

v0.r211.5, 23.09.2019

- не работала команда proc (возвращено a=error в getappmainpages)

v0.r211.6, 28.09.2019

+ nv: в hex editor'е добавлен курсор в текстовом блоке (rasmer)
* Чёрный Ворон: im 1
* продолжается перевод файлов в кодировку 866

v0.r211.7, 29.09.2019

* Чёрный Ворон: поддержана многозадачность, исправлена компиляция final cut
* smb: поддержана многозадачность, исправлены значения для палитры (OR 0x0c), исправлен FASTDEMOBEFOREBREAKPOINT
* wolf3d: поддержана многозадачность, добавлена музыка

v0.r230.1, 01.10.2019

+ hddfdisk (DimkaM)
+ Eric and the Floaters (rasmer)
+ немного документированы сетевые функции

v0.r235.1, 02.10.2019

* cmd: исполняется последняя строка .bat, даже если после неё нет CR
- cmd: при выполнении системных программ менялся текущий каталог
* cmd: убраны оставшиеся CP/M вызовы
+ eric: slowdown, выход по Esc из режима игры

v0.r246.1, 09.10.2019

* реструктуризация путей (DimkaM)
+ Everlasting summer: New parser. Closer to original; Improved graphics (demige)
* Some changes to build in linux (demige)
+ browser: fix chdir in browser running wget
+ setpath.bat fix (DimkaM)
+ новая игра net1, net2: two snakes (вторая змея на net1 управляется WASD или ждёт ответа от net2 по адресу 192.168.1.177, который шлёт на 192.168.1.2)
+ eric: переделано под EGA режим (графика грузится из eric/ericgfx.bmp)

v0.r246.2, 09.10.2019

+ OS_SETMAINPAGE (ставит нужную страницу в 0x0000)

v0.r246.3, 12.10.2019

+ browser: поддерживает адреса вида http://gopher.quux.org:70

v0.r246.4, 12.10.2019

- browser: при ручном вводе адреса вида http://alonecoder.nedopc.com не работали относительные ссылки без слеша

v0.r246.5, 12.10.2019

+ browser: если при коннекте держать Caps Shift, то запрос посылается по протоколу Gopher

v0.r246.6, 14.10.2019

- net: исправлен обмен (DimkaM) (на net1 192.168.1.177 вторая змея управляется WASD или ждёт ответа от net2 192.168.1.2). net2 надо запускать первым!
- net: на обоих абонентах кролик генерируется одинаково
+ net: добавлен выход по break
+ Everlasting Summer: graphics improvements (demige)
- eric: убраны лишние файлы (rasmer)

v0.r258.1, 14.10.2019

- net: сделана защита от фальшивых пакетов

v0.r258.2, 16.10.2019

* kernel: шедулер теперь включает каждую задачу не более одного раза за фрейм, в YIELD убран цикл, idle теперь работает в любое свободное время
+ nv: правильно красятся расширения маленькими буквами

v0.r258.3, 16.10.2019

+ добавлен логотип (Louisa)
+ browser: gopher и его порт по умолчанию определяется по префиксу протокола gopher://, а Caps Shift можно использовать для отладки http (сохранить заголовок принятого ответа)

v0.r258.4, 16.10.2019

+ eric: раскрашен сундук (Sashapont)

v0.r258.5, 17.10.2019

+ br: стрелочка при старте игры в центре экрана, чтобы не уезжало

v0.r274.1, 21.10.2019

+ ускорена сборка образа для унрила (DimkaM)
+ Everlasting Summer: полный первый день (demige)
+ br: добавлен режим EGA=1
+ view: добавлен формат 16c (образ памяти 32K + 32 байта палитра)

v0.r274.2, 23.10.2019

+ br: много фиксов в режиме EGA=1

v0.r274.3, 28.10.2019

- br: лошадка могла показываться не той стороной, мёртвая катапульта кунгов и спрайты высотой 32 вешали игру, были перепутаны фазы дыма и горения зданий
+ eric: улучшен рисунок человечка (Sashapont)

v0.r274.4, 28.10.2019

* browser: стартовая страница грузится из файла (DimkaM)
- br: исправлен вывод символа маны

v0.r274.5, 29.10.2019

+ br: сделан вывод карты в режиме EGA

v0.r274.6, 30.10.2019

- br: исправлено мигание и отпечатки стрелочки, исправлены тайлы подземелья, сделана задержка для показа флажков при старте, немного исправлена окраска, возвращена работоспособность оригинальной графики

v0.r286.7, 30.10.2019

* kernel: при запуске ядра не разблокировался порт 0x7ffd (для Евы и Пентагона) (DimkaM)
- Everlasting summer: Palette bugfix (demige)
+ Everlasting summer: Slavya and Semen cg in night dinning hall re-convert (demige)
- br: при показе задания стрелка отпечатывалась
* br: переключение на карту обновляет панельку

v0.r289.1, 6.11.2019

- NoIce-монитор вставил YIELD при таймауте цикла ожидания обмена данными (bugreport LVD) (DimkaM)
* при сборке батниками игры релизятся в nedogame (DimkaM)
* br: начали раскрашивать персонажей (Sashapont)

v0.r289.2, 6.11.2019

* br: раскрашены костолом, демон и стеногрыз (Sashapont)

v0.r289.3, 7.11.2019

* br: раскрашены здания (Sashapont)

v0.r295.1, 11.11.2019

- исправлена бага со сборкой иаром (nedoos-стартап линковался как библиотека) (DimkaM)
+ Everlasting summer: Added music support! (Thanks and respect to NQ for test version of title soundtrack) (demige)
+ Everlasting summer: New keys support added in text files (demige)
    - \m<filename> - load pt3 track to buffer
    - \P - Play track in memory
    - \S - Stop and mute player
+ Everlasting summer: On new sentence the background will be restored and cursor setted to second line from bottom (demige)
- Everlasting summer: Some outdated code is deleted (demige)
* убрана кнопка Caps Shift (показывать заголовки) в браузере (Buran)

v0.298.1, 18.11.2019

* Everlasting summer bugfix (demige)
* br: раскрашена панелька (Sashapont)

v0.301.1, 8.12.2019

* Everlasting summer update (demige)
+ Scratch update, в т.ч. сохранение .scr (Sand)

v0.303.1, 9.12.2019

+ browser: https support

v0.303.2, 15.12.2019

+ добавлены логотипы
+ документирована работа с прерываниями

v0.303.3, 18.12.2019

+ br: игровой экран центрирован
+ br: неправильно показывались столбики энергии и маны

v0.303.4, 19.12.2019

- br: спрайты всадника и катапульты были сдвинуты на пиксель
+ br: в EGA режиме добавлена панелька в демо

v0.311.1, 22.12.2019

+ Everlasting summer: day 2 (demige)
* убраны лишние тексты из trd
* исправлены настройки эмулятора для ATM3 версии (в EVO версии осталось как есть)

v0.311.2, 27.12.2019

+ открыты исходники
+ добавлен пример работы с картинками, спрайтами и музыкой для игр: src/games/sprexamp

v0.311.3, 28.12.2019

+ дополнена документация и sys_h.asm

v0.311.4, 07.01.2020

+ hddfdisk: добавлен выбор дисков Немо мастер\слейв и АТМ мастер\слейв (DimkaM)
+ hddfdisk: добавлен сканер на предмет isdos разделов (DimkaM)
+ br: gfx improvements (kotik, Sashapont)
+ sprexamp: background scroll
+ player: tfc

v0.311.5, 12.01.2020

- nv: 0 нельзя было ввести (KOE)
+ br: gfx improvements (kotik, Sashapont)

v0.311.6, 13.01.2020

* ассемблерные исходники и тексты приведены к 866 кодировке (Lord Vader)

v0.311.7, 09.02.2020

* NeoGS SD fixed (но так пока не работает modplay)
+ br: gfx improvements, окно выделения, замедлялка минимум до 5 фреймов при ходе и скролле

v0.311.8, 09.02.2020

+ br: индикаторы в углу, цикл сокращён до 3 фреймов (5 много)

v0.410.1, 13.04.2020

+ yad + aynet: плеер AY по сети, можно найти бродкастом по порту 16730 (DimkaM, Lord Vader)
+ добавлены recvfrom и sendto в драйвер сети (DimkaM)
+ eric: добавлена музыка из версии ERIC 128 (автор неизвестен)
+ browser: svg (тестовая картинка работает, но крупные картинки не поддержаны)
+ добавлена игра loyd - надо переместить самую большую фишку в противоположный край доски. Три уровня. R=restart
+ nedores: added palette converter
+ br: добавлены видеоролики в brintro, выход - Esc (Break, CS+Space)
+ добавлена хобета osevohdd
+ обновлён ЕРС в эмуле
+ обновлён эмулятор
+ osevsd-g.$C - версия без NeoGS-SDcard (Fyrex)
- kernel: плейер музыки выключался при выходе из любой программы
+ noise: добавлена музыка

v0.444.1, 17.05.2020

*kernel: GET_KEY returns mouse position instead of deltas, nz=no focus
+kernel: OS_CLS for 6912
+userkernel: current pages are kept in CURPG16K CURPG32KLOW CURPG32KHIGH
+init: для евы (osevo.$C) автоопределение системного диска (DimkaM)
+add make files (DimkaM)
+Added Makefile for dmm.com (demige)
-nedoos: fatfs4os: fixed Makefile and build.bat (Lord Vader)
*nedoos: wizcfg: renamed Lnk.xcl to lnk.xcl (Lord Vader)
+Changed upcase-lowercase conflicts for correct building in linux (demige)
+драйвер PS/2: уменьшен интервал репита (DimkaM)
-psgplay: fixed continuous wait for reply on broadcast (Lord Vader)
*yad: UPD port for detection broadcast is now 16729, same as TCP port (Lord Vader)
+browser: mouse support (lmb=go, rmb=back, wheel=scroll), fix http redirect
*в браузере в HTTP добавлена строка Referer, пока тестовая, для картинок на www.pouet.net (Lord Vader)
+wolf3d: спрайты с текстурой и прозрачностью, импорт текстур и спрайтов из bmp, спрайты берутся из карты по таблице; переделал формат Big L editor'а, теперь монстры сохраняются с тем же номером, что указан, а не пересчитываются
+sprexamp: поддержан скролл фона высотой 512 пикс (max=768 при ширине 320), добавлена загрузка bmp с палитрой
*br: новая графика домиков (Котик, Louisa), перекрашена панелька, перекрашены некоторые существа, князь и Гризольда, огонь в подземелье; немного перекрашены контуры воды
+br: выделение зданий, подсветка места под строительство, исправлены некоторые цвета на панельке
-br: fix отпечаток стрелки в правом нижнем углу при вызове меню; fix затирание кнопок при входе-выходе в карту; мигали числа на шахте; при начале скролла экраны сделаны одинаковыми, иначе цифры в панели мигают и может отпечататься стрелочка; fixed sprite clipping bug in bottom right corner
-br: fixed hail magic bug
-br: если не хватало ресурсов для ремонта, могло повиснуть
+br: help added (key "3" in intro), current function buttons shown in game, English version of Epopee added, full walkthrough: https://www.youtube.com/playlist?list=PL3pgnoYbP3wp-7paZwvd6pwWQSIUFOnun
*loyd: black background
-smb: Luigi controls fixed
-smb: мог возникнуть сбой системы из-за sp<0x3b00

v0.446.1, 18.05.2020

+browser: поддержка ссылок длиной до 509 байт, защита от запарывания first1pointer и first2pointer, редактирование таких ссылок
+browser: поддержаны ссылки вида "//ser.ver/file.htm"
-browser: исправлено сохранение первой ссылки после div
-browser: исправлен поиск слеша в пустой строке
+browser: в ссылках автоматически убирается #blabla
+browser: поддержаны html с xml заголовком

v0.446.2, 18.05.2020

+kernel: теперь позволяет держать музыку в любом месте 0x4000...0xffff, OS_SETMUSIC берёт страницы для 0x8000 и 0xc000 из текущей карты памяти пользователя
-eric: мог случайно запарываться при старте
+wolf3d: увеличена максимальная высота спрайта, спрайты зумятся пропорционально

v0.454.1, 27.05.2020

+kernel: OS_PLAYCOVOX added
-kernel: неправильный стек при вызове музыки
+wget: просмотр картинок и проигрывание музыки (DimkaM)
+view: поддержан формат .mlt
+browser: добавлен сайт zxart api в закладки браузера (DimkaM)

v0.510.1, 08.07.2020

+untangle: speedup (Lord Vader) и не мигает после хода, size optimizations
*kernel, snake, net, tetris, eric, loyd: screen protection
+kernel: оптимизирован и исправлен YIELD 	 
-browser: исправлен скролл колесом при переключении фокуса
-player: добавлена задержка при доступе к регистру статуса при проигрывании TFM (DimkaM)
-browser: fix перерисовка при захвате фокуса
-browser: fix положение ссылок после центрованных надписей 	 
+player: играет по фону, поддержано расширение *.mt3 	 
-untangle, scratch: не портят экран не в фокусе
+browser: восстанавливает экран при получении фокуса
-wolf3d: пофикшен излом стен в узких коридорах
+sprexamp: карта 256x64 метатайлов 16x16 из mapwin (экспортирована через исправленный плагин Export binary file)
+sprexamp: независимый скролл по карте и буферу ldpush 	 
+sprexamp: добавлено зацикливание по X и Y (точнее, зацикливается весь адрес Y*512+X)
+sprexamp: добавлен скролл по обеим осям (управлять мышкой, LMB=выход к скроллу по Y)
*mkatm2hd.bat временно собирает версию с поддержкой HDD, но с загрузкой с дискеты
+NedoLang, NedoAsm: добавлен таргет script, в нём 8-байтные слова и тип FLOAT (см. testspt)
+NedoLang: enum позволяет запятую после последнего элемента
+NedoLang: enum {a, b=10, c, d}
-NedoLang: неправильно работал двойной typecast, например VAR LONG l2 = (STRUCT zzz*)((UINT)&zuzu+zzz_nnn)->lb;
-NedoLang: неправильно работали вложенные #ifdef, если внутри был #include 	 
-убрал незакрытый #if в FatFs (DimkaM)
*Moved all 866toatm and winto866 files to _sdk/codepage/ (baho)
+wolf3d: лампочки на потолке и аптечки 	 
+added executables 'mhmt', 'sjasmplus' and 'dmimg' to svn:ignore (Lord Vader)
*basic, browser, cmd, emptyapp, modplay, nv, ping, pkunzip, player, reset, scratch, setfont, tar, telnet, texted, unrar, view: Modified Makefiles to use `tools/aspp.sh' on GNU/Linux (baho)
+scratch: в палитре есть режимы 444 и 222 (Sand) 	 
+scratch, wolf3d, sprexamp, eric, browser: поддержаны bmp из Linux 	 
*New target evolution. Targets evosd and evohd deprecated - now alias of evolution (demige)
+Added aspp.sh - utility to search dependencies in asm files (baho)
*Makefile: Removed mess with "pe26sd" target; games/br/Makefile: Fixed mess with binaries filenames;
*fatfs4os/Makefile: Removed deletion of needed files; fatfs4os/ff_sj.asm: Added source file to be compiled with tools/sjasmplus (baho)

v0.536.1, 18.07.2020

+scratch: оконная система
+scratch: кнопка N - new image, сделано через оконную систему - Edit, Radio Button, Flag, Label, Button
+kernel: при закрытии задачи убивается её музыка
+kernel: закрываются открытые файлы при dropapp
*kernel: убран вызов OS_GETSCREENPAGES
+kernel: драйвер клавиатуры помещён в bdospg2
*kernel: уменьшена задержка автоповтора клавиатуры в режиме PS/2
*kernel: изменено апи сети (DimkaM)
+в 3ws добавлена функция запуска приложений, запуск плеера и вьювера картинок (DimkaM)
+добавлена утилита curl для заливки приложений на Speccy на лету (DimkaM), также исправлен autoexec.bat для этого - пример использования в scratch/runcurl.bat
-smb: не игралась дема (выход из проигрывания - D, при этом включается запись новой, сохранение на диск - V)
-nedodel, nedogift Makefile bugfix (baho)
*переименован osevo.$C в sd_boot.$C (DimkaM)
+добавил описание некоторых вызовов ядра (DimkaM)
-net: исправлены сетевые змейки (DimkaM)
+добавлены проекты hello и gfxtest
+wolf3d, basic, sprexamp, noise: fix screen protection
*cmd: по умолчанию программы запускаются в блокирующем режиме (по фону запускать через start программа параметры)
+nv: Enter - исполнение командной строки в блокирующем режиме (потом кнопкой 9 можно посмотреть текстовый экран, который был на момент завершения команды)

v0.611.1, 19.08.2020:

+kernel: файловые структуры убраны в страничку pgstructs, их теперь не 8, а 16. число задач тоже 16
+kernel: добавлены пайпы, проверяются на EOF и закрытие принимающей стороны, пайпы надо закрывать 2 раза (т.е. каждый конец отдельно); добавлен генератор случайных чисел - пайп с хэндлом 0xff
*kernel, nv: убрана функция WRITE_NBYTES
+kernel: передаёт плейеру значение для порта bd77 (с номером видеорежима в младших битах)
+kernel: в readhandle и writehandle возвращается ошибка в A (0=OK)
+kernel: YIELDKEEP - отдать время системе, при этом разрешить вернуться в текущем фрейме
-kernel: в yield не включался pgkillable в конце
-kernel: в чтении PS/2 клавиатуры мог запарываться стек
-kernel: в версиях ядра под 40key исправлена заторможенность клавиатуры (длинный буфер клавиатуры)
-kernel: WAITPID теперь замораживает задачу (размораживается по dropapp дочерней, rst0 в дочерней или HIDEFROMPARENT в дочерней)
+kernel, scratch и др.: OS_HIDEFROMPARENT в начале приложения позволяет nv не ожидать вызода из этого приложения
+kernel: idle запускает только term с параметрами cmd.com autoexec.bat, term сам заказывает себе пайпы и запускает cmd.com с командной строкой, взятой из своих параметров (теперь он проверяет autoexec.bat не в первом слове комстроки, а во втором). из cmd можно запустить новый терминал с cmd командой start term.com cmd.com.
*kernel: в версии для Pentagon2.666LE SD-карта с 4 нопами вместо одного между доступами к портам SD-карты
+терминал term (поддерживает управление курсором по стандарту ANSI терминала, esc передаётся как двойной esc), мышка, прокручивание терминала колёсиком, копирование экранного буфера в файл pasta.txt (клик в левый верхний угол) и вставка из этого файла до 80 символов (клик в правый нижний угол)
+библиотека stdio.asm для работы с терминалом через пайпы
+telnet-сервер netterm (порт 2323, VT-100+)
+telnet: можно писать порт (например, telnet nethack.alt.org:14321)
-nv, nvview, more: долго залипали кнопки типа pgup при автоповторе
+nv: ускорена перепечатка панелек
+nv: CS+Enter или F9 вводит имя файла в командную строку (с пробелом перед ним, если надо)
-nv: при запуске файлов, удалении и создании директории курсор перепрыгивал на начало (trefi)
*nv: все программы запускаются в блокирующем режиме (какая программа использует не stdio, а свой экран, может освободить nv командой OS_HIDEFROMPARENT в самом начале - см. scratch)
-nv: не работал запуск *.$c
*nv: при блокирующем запуске программ из командной строки освобождает фокус; фокус отдаётся перед запуском программы из комстроки
+nvview: добавлено сохранение по F2 (DimkaM)
*nv, basic, hello, texted, ping, zxrar, unrar, unzip: переделаны под терминал (stdio.asm)
*dmm, time, hddfdisk, wizcfg переделаны под терминал (dmm и hddfdisk наблюдаются проблемы скролла) (DimkaM)
+player при старте ищет свою копию и говорит ей закрыться
*player: отключает турбо на время проигрывания и инициализации TFM
*player: чистит экран для показа своих сообщений
+browser: home, end, del в строке url
+листалка more (берёт данные из stdin до EOF)
*wolf3d: две страницы спрайтов, исправлена X-координата объектов на карте
+sprexamp: в карту добавлен слой с координатами объектов, можно толкать врагов кнопкой S, скорость бега снижена
-sprexamp: фикс разрезания лучом
+sprexamp: управление объектами и героем, взаимодействие героя с тайлами, трекинг сдвига камеры, звуки, взятие предметов, пули
+cmd: home, end, del, не переходит всегда на 25-ю строку
*cmd: понимает 0x0a в качестве enter в режиме RECODEINPUT
-cmd: фикс перехода в интерактивный режим при отсутствии autoexec.bat в параметре
+cmd умеет dir >file, dir |more.com. можно писать пробел после > или |. Начато добавление < (не работает)
+3ws: проверка сокета (DimkaM)
*browser: убрана очистка страниц в jpeg.asm
-br: убрал OS_GETSCREENPAGES в level 2-17
+unreal: added a branch of 0.39.0 where labels loaded from user.l are now always virtual (Lord Vader)
*убраны несовместимые с Windows мейкфайлы (DimkaM)
+сделал вторую половинку build'ов (которая отвечает за запись при отдельном запуске) везде одинаковую, кроме games, там тоже везде одинаковая
-некоторые build.bat меняли releasedir и ломали сборку trd
+sjasm: upgraded to 1.15.1, errors should be RED now (ansi codes used); emit user.l with 'virtual' z80 addresses (Lord Vader)
-untangle: не работали уровни, начиная с 19 (DimkaM)
*smb: поскольку записанное прохождение 8-2 не работает с MULTITASKING=1 и вообще так медленнее, возвращаем MULTITASKING=0 (задачи переключать нельзя, пока не выйдешь из игры)
+sys_h.asm: добавлена документация на ряд вызовов

v0.668.1, 10.09.2020:

+kernel: ускорение чтения из TRDOSFS
-kernel: в fread и fwrite двигалась DTA - убрано (в CP/M не двигается)
*kernel: ради исключения разрешён юзерский стек 0x0100
*kernel: rndwr/rndrd считают -1 последней записью в файле (возможно пустой)
+kernel: палитра пишется только после её изменения или переключения фокуса, так что обработчик прерываний существенно ускорился
*kernel: системный обработчик прерываний не восстанавливает содержимое стека, это должны делать пользовательские обработчики, которые вызывают системный (пример в nedoos.txt)
+kernel: yield не содержит di
+kernel: opendir, readdir поддерживают TRDOSFS
*kernel: специально для tp добавлены CP/M'ные функции SYS_RNDRW, SYS_RNDWR (только FatFs, не рекомендуются к использованию)
-browser: исправлен обработчик прерываний, отражалось на загрузке картинок
-nv: имя при копировании и удалении собиралось неправильно
+nv: при запуске программ чистится экран
+nv: окно создания директории теперь большое, под длинное имя
+nv: hexed ускорен
-nv: hexed неправильно листал файлы длиннее 64K
-term: отпечатывалась мышка
+term: добавлен параметр esc-кода C (курсор вправо), теперь правильно показывается ANSI_diz.ans (type ANSI_diz.ans)
-term, stdio: исправлен глюк, из-за которого всё тормозило
+term: ускорена печать символов
-cmd: повторно запускалась программа из параметра
+cmd: dir поддерживает длинные имена, выводит имя справа, чтобы не было криво
+cmd: в dir можно указывать путь
+cmd: %0..%9 - параметры при вызове батника
+basic: home, end, del
-scratch: в файловом меню был неправильный цвет инверсии
+ВАЖНОЕ ИЗМЕНЕНИЕ, ВСЕ ПРОГРАММЫ ПЕРЕКОМПИЛИРОВАНЫ!!! stdio, term: убраны задержки и печать курсора при рисовании больших объёмов данных
*noise, eric, wolf3d, sprexamp, smb, br, cardgame, evsummer: исправлены обработчики прерываний
-nedolang: исправлен build.bat, ускорено примерно на 15%
+nedolang: константные выражения +(expr) - тип выражения определяется по левому контексту. В исходниках почищена такая же устаревшая запись тайпкаста.
-nedolang: enum создавал псевдопеременные для каждого элемента - выброшено
*nedolang: для BIGMEM (т.е. версий для пц) _STRLEN=255, иначе 80
+nv: переход на .. эквивалентен переходу по backspace
+nv: при переименовании используется длинное имя
+nv: backspace устанавливает курсор на текущую директорию
+nv: ускорена перерисовка панелек
+nv: в поиске доступны кнопки влево, вправо, вверх-вниз (выбор файла из найденных), F3 (посмотреть файл). поиск по вложенным директориям, внутри файлов
*nv: 2-символьные имена месяцев (для более длинных имён файлов)
+nv: начинаем писать поиск (2 или F2): Tab - переключение между именем файла и текстом, Enter - искать такой файл (пока только по имени, регистр не важен, ? - не проверять символ, * - не проверять все следующие символы)
*nv: переключение диска на текущей панели - 1(F1), исправлена строка подсказки
+nv: длинные имена
*nv: число файлов и суммарный размер пишутся ярко
+bdsc: исправлена линковка, теперь можно собрать простые проекты (cc ex.c, потом clink ex -s)
+bdsc: исправлен getchar, написан батник сборки сишника (cc.bat)
+bdsc: пересобраны библиотеки (пока используйте build.bat в bdsc, чтобы залить их на образ диска. Тест: "cc ex.c", потом "clink ex", потом "ex 123 456")
+bdsc: графическая библиотека deffgfx
*bdsc: эксперименты с чтением-записью файлов (ex.c)
-scratch: исправлена инверсия пунктов меню
+scratch: "чёрный" и "белый" цвета меню автоматически ищутся в палитре ("серый" и "зелёный" пока нет). если при сохранении введено расширение файла .BMP с большой буквы, то сохраняется в формате 8 бит на пиксел, иначе 4 (как было)
*scratch: директория читается не через функции CP/M
-sprexamp: не хватало файла
+sprexamp: попадание пуль во врагов, исправлено клипирование спрайтов
-ps2drv alt+буква работает как ext+буква, багфикс (DimkaM)
+OS_OPENDIR, OS_READDIR для чтения директории с длинными именами (см. sysdefs.asm: FILINFO_FSIZE и т.д.)
+fatfs немного лонгнеймов добавил (DimkaM)
-texted: не было видно курсор
+texted: показывается номер колонки
+texted: начато добавление line wrap
+tp: dir, work, compile (пока не работает $I и компиляция в файл), run, добавлен тестовый исходник t.pas, программы ждут кнопку перед выходом, параметры командной строки (см. cmdlin.pas)
-nvview, texted: исправлена непрорисовка пустых строк, ускорена перепечатка страницы
*cmd,nv,scratch: читают-пишут файлы только через хэндлы, а CP/M-функции только для чтения директории
+idle: ускорена отрисовка заставки
-reset: не устанавливалась палитра
+nedolang: evar {UINT var1 = 1, INT var2 = 2, FLOAT var3} и т.п. создаёт переменные заданого типа с заданными адресами
+bdsc: компилятор C
-hddfdisk исправлено отображение модели (DimkaM)
-nvview,texted: неправильно показывалсь строки длиной 80
+added chkimg.sh by DimkaM
+sjasm: added command line argument to emit virtual address labels in LABELSLIST
+sjasm: now virt labels are emitted as ':xxxx label' (lvd)
+emul.exe should show labels in arguments now (lvd)
-nvview не листал тексты с концом строки 0x0a
+cmd: more < filename.txt (more сам закрывает файл, cmd не может отследить момент ненужности)
*more: выполняется по фону
+pt: запускается, работает большинство кнопок

v0.691.1, 20.09.2020:

+kernel: SETGFX с a+0x80 включает запоминание экрана для текущей задачи при потере фокуса
-kernel: был неправильный порядок переключения фокуса
*cmd: параметры %1... не заменяются из командной строки, только в батнике. Также в батнике поддержаны команды с | и >
*dmirc, hddfdisk.com: миграция в терминал
-term bug in cursor store (DimkaM)
*tp: передалано под терминал, теперь можно использовать электронную таблицу mc.pas. пока не работают дисковые операции в ней.
*bdsc, clink: переделано под терминал
*bdsc: в файловой библиотеке переделаны фукнции read и write (теперь работают с длиной в байтах, а не в секторах)
+bdsc: добавлена утилита concat.c (сборка: cc concat.c, clink concat, использование: concat outfile infile1 infile2)
-basic: не работал gfx 6 (Konstantin Kosarev)
+sprexamp: оптимизация по размеру, возвращён второй движок тоже
*sprexamp: экспериментируем с разделением вывода спрайтов и генерации их координат (для быстрого восстановления фона потом)
+nv: ускорена перерисовка панелек
+build.bat переписаны, чтобы автоматически копировали файлы в release
-3ws.com, time.com: fix
+pt: загрузка и сохранение через NedoOS
/pt: убрана опция Decompile
+pt: число отображаемых строчек паттерна увеличено - видно на 6 строк вверх
+pt: поддержано переключение фокуса
+начат проект музыкального редактора untr: ввод нот, ins, del, backspace, space, test sample

v0.755.1, 13.10.2020:

+kernel: если в OS_SETGFX передать видеорежим+8, то выключается турбо (без восьмёрки включается)
-kernel: SEARCHNEXT неправильно возвращал ошибку конца каталога
-kernel: неправильно переключались дисководы TR-DOS
-kernel: fix yield, блок di:out:ei:out занимает 31 такт, что не превышает стандартной длины инта 32 такта. NB: СМЕСТИЛИСЬ АДРЕСА, ВСЕ ПРОГРАММЫ НАДО ПЕРЕКОМПИЛИРОВАТЬ!
-kernel: ловим баги в yield, временно возвращено di
+kernel: обработчик музыки может щёлкать страницы через рестарты и получает номер системной страницы в E
-kernel небыло нульстринга в длинноимени при чтении каталога с дискеты
-kernel исправлен детект страницы с трдосом(возможны проблемы при текущем рамдиске, надо тестить, фиксить)
+kernel: при снятии задачи глушатся оба AY
-kernel: getfilinfo не выбирал нужную fatfs
-kernel,nv: неправильно обрабатывались файлы с точкой в имени (DimkaM)
-kernel: не работали OS_READSECTORS, OS_WRITESECTORS
-kernel: была ошибка в rndwr, rndrd. Теперь в tp работает чтение и запись нетекстовых файлов (текстовые работали и раньше). mc.pas работает
-kernel: при ошибочном открытии каталога TR-DOS он не был чистым
-kernel,nv: не работал запуск хобет в версии evosd
+CMD_GETFILINFO=0xe8 ;de=filename, hl=buf[FILINFO_sz] to get FILINFO
-fix драйвера sd-card (bugreport Artem Vasilev) (DimkaM)
+ps2drv.asm ctrl+letter -> ss+letter (DimkaM)
-sys_h: ошибка в описании CLOSEHANDLE (Konstantin Kosarev)
+fatfs: оптимизация стека (DimkaM)
-nv: при 0 файлов печатался курсор с фантастическим именем файла
-nv: висло при рекурсивном копировании и удалении (Sayman)
*nv: при копировании и удалении на каждом файле не делается CHDIR
-nv: иногда пропадала панелька (Sayman)
-nvview: тормозило после движений мышью (Konstantin Kosarev)
+nv: экономит 9 страниц + страницы каталога при запуске программ в текущем терминале
+nv: копирует длинные имена, убраны CP/M вызовы
+dmm: исправления под длинные имена (DimkaM)
+wget добавлена поддержка длинных имен (DimkaM)
+rdtrd: читает диск A в noname.trd (Konstantin Kosarev)
-browser: неправильно работал комментарий <!-- --> (VideogamesSematary)
+cut.c - разрезалка файлов: cut SIZE infile outfile1 outfile2...
-nmisvc.com исправлен номер страницы ПЗУ (DimkaM)
-tp: исправлено закрытие файла при записи, теперь можно компилировать большие проекты на диск.
-tp: при компиляции с инклюдами не закрывались открытые файлы, теперь можно несколько раз подряд компилить mc.pas
-tp: была неправильно декомпилирована таблица eof procedures, поэтому не работали lister.pas и хелп в mc.pas
-tp: исправлен один из случаев, когда открытый файл не закрывался
-не хватало файла play.asm
+exp добавлена версия под NedoOS (вызов: exp filename.A_, результат в exp.f)
+playtap: играет файл tilt.tap, пауза между блоками 1 секунда
+wizcfg детектит эмулятор (DimkaM)
-dmm исправил монтирование образов дискет (DimkaM)
+sprexamp: фон под спрайтами без скролла восстанавливается из ldpush (если за два фрейма до этого не меняли тайловую карту)
-sprexamp: не хватало пары файлов в release (Sayman)
-pt: не работал ввод Music, By (Konstantin Kosarev)
+pt: добавлен выход в окне CLEARS (Konstantin Kosarev)
+untr: новый музыкальный редактор: каждому подканалу по 64 килобайта дырявой памяти, Turbo Sound (каналы нумеруются ABC, DEF), фоновое проигрывание, при котором можно редактировать. cs+R - начать проигрывание, cs+T - остановить, cs+W - указать начало цикла, cs+E - указать конец цикла, cs+Q - убрать конец цикла, home, end переходят на начало и конец пекущего фрагмента трека (при достижении предела текущей части трека пытаются перейти дальше). pgup, pgdown - переход на табуляции по 8 символов
+untr: По Tab (Ext) переходим в режим редактирования параметров трека:
- канал для вывода
- приоритет
- тип трека (Vv - gliss/vibrate (TODO), g - gain, n - noise shift (TODO), e - env gliss/vibrate (TODO), t - tone, d - drum)
- ордер используется или нет (или будет номер ордера?)
- номер сэмпла или первый параметр фильтра
- второй параметр фильтра (для t/d планируется громкость - пока не реализовано)
- третий параметр фильтра
+untr: фильтр громкости (обрабатывает предыдущую дорожку). числа 0..e - уменьшение громкости, f - как было, g..z - увеличение. Между числами линейная интерполяция.
+untr: gliss (кнопка F в поле ноты)
+untr: в канале типа d (drum) можно ставить номера сэмплов
+untr: ins, del: вставка и удаление треков (каналов)
+untr: 1,2,csY копирует из первой цифры ордера во вторую текущий трек
+untr: добавлены сэмплы d(drum),h(hihat),c(crash),1(ornament),2(ornament)
+untr: load (F3) - грузит muz.unt, save (F2, под именем muz.unt)

v0.874.1, 31.01.2021:

+nedoos_en.md: English translation of nedoos.txt (BruXy)
-make.bat: почищено содержимое *.trd, т.к. не умещалось. требовало нажатия клавиши при сборке trd
-makeall: не собирал некоторые файлы
+tools/src/aspp, tools/aspp.exe: added new cross-platform version of "aspp"; tools/aspp.sh: removed old version (Baho)
*repository cleanup, added many "svn:ignore" properties where needed (Baho)
-kernel: OS_HIDEFROMPARENT не окончательно отрекалась от родителя, после выхода родитель будился
-kernel: не освобождались страницы при отключении графического режима без bit7, каждый раз заказывались при bit7
-kernel: fatfsdrv.asm драйвер SD-карты не работал на Pentagon 2.666LE с версии 720
-kernel: стек прерывания мог накладываться на стек задачи
+kernel: в версии для Pentagon 2.666LE используется максимум страниц (не используется только 5 страниц ПЗУ и 8 страниц 128К - теоретически можно и из них заюзать 0,2,6, но пока не будем)
-kernel: убраны задержки для Pentagon 2.666, всё равно не работали и вешали комп
-kernel: установка времени после копирования файла не работала
*kernel: в idle добавлен HALT, возможно, исправится залипание клавиш на контроллерах клавы с микроконтроллером
-kernel: исправлен драйвер sl811
-kernel: оптимизация вывода палитры на ZX Evo
-kernel: sd-card драйвер: убраны лишние задержки для Евы, добавлены задержки для 8/3, так как spi не успевает обработать предыдущий байт
-kernel: на atm2 при запуске hddboot'ом не было переменных бейсика
+kernel: ускорено чтение файлов с TR-DOS
+kernel: удаление последнего файла с TR-DOS уменьшает число файлов
+kernel: прозрачное сохранение, подсовывание и восстановление экранных страниц программ, теперь программа может не думать, рисует она в настоящий экран или нет (если включен битик сохранения SETGFX)
-kernel: исключено случайно включение страницы 0xff (DimkaM)
+kernel: ps2drv: ctrl+цифры = ss+цифры
+kernel,idle: для ZX Evo сделана проверка версии ERS при старте недооси (DimkaM)
-kernel: ps2drv при редраве не проверялось на переполнение буфера (DimkaM)
+term: hide mouse cursor if no activity
-netterm: немного поправлено открытие сокетов (DimkaM)
-cmd: увеличен буфер копирования, а то тормозило (Sayman)
-cmd,nv: нельзя было вводить команду длиннее экрана
+nvfast: рисует прямо в экран
-nvview: code 0x1b could corrupt screen
+nv: Esc (Break) shows old screen for nvfast (Demige), no annoying action in nv for stdio
*nv: промпт отображается максимум 64 символа
-nv: висло, когда промпт был шире экрана (Konstantin Kosarev)
-nv: не работало удаление подкаталогов (Slip) (однако при большом их количестве может понадобиться вторая попытка удаления)
+texted,nvview: shows filename
-texted: single line showed many times
-texted: backspace at CR after empty line was setting wrong x
-texted,nvhexed: shows "changed" flag
+texted: added default filename 1.txt
-more,texted: возможно, был глюк с печатью строки при скролле вправо (не проверено)
+dmm: добавлена возможность увеличения размера trd образа до 640кб, если он меньше 640кб. добавлен маунтер под ATM (DimkaM)
-dmm,time: багфиксы (DimkaM)
-nmisvc не отвязывался от родительского процесса (DimkaM)
+reset переделан под XBIOS (DimkaM)
-wget: исправлен запуск вьювера и плеера (DimkaM)
-dmirc: поправлен вывод (DimkaM)
*zxrar: 2 byte matches on (ramdisk=1, switch to 0 if needed)
+nedoload: начата интеграция Evo SDK (Hippiman), сконвертирована игра 2048 (nedoload, src/games/_sdk)
-hddfdisk: исправлен драйвер atm-hdd (DimkaM)
+hddfdisk: добавлен инсталлятор загрузчика и tasis'а (DimkaM)
-hddfdisk: при запуске hddboot'ом отсутствовали tr-dos переменные (DimkaM)
-player: автоопределение копии в памяти ищет и копию, запущенную через player filename (без .com)
+wrtrd: пишет на диск A содержимое образа source.trd (Konstantin Kosarev)
+wolf3d: двери в нишах, можно открывать (caps shift)
+wolf3d: добавлены звуки, а музыка в системном прерывании
+wolf3d: space - выстрел, можно убить монстра или предмет
-wolf3d: буферизовал номер страницы экрана, что чревато при потере фокуса
+solkey: игра Solomon's Key, выход - Esc/Break, добавлен загрузочный экран (с Amiga версии). Выход в меню по QWERT не работал на пц клаве - переделано на Q+E+T
+slabage: раскрашенная игра Slab Age, выход - Esc/Break
+isitar: новая игра Isitar 7 с MSX (старт M, выход Esc, управление курсором, выбор оружия A,X, огонь Space)
+игра на двух игроков q1 (управляется с одного компьютера: opqa+space, 1234+5). для сети запускать q1_2.com UDP сервер (192.168.0.7), потом q1_1.com UDP клиент, и можно играть по сети (в игре net (сетевая змейка) те же настройки и тот же порядок: net2.com потом net1.com)
+br: восстановлен текст инструкции к Чёрному Ворону (instrtxt.dat)
+midnight: добавлена игра Midnight Resistance, заставка с Atari ST. чит-меню (ввести I AM AN OCEAN GAMES TESTER вместо Y/N в redefine keys) не работало из-за глючного кемпстона (кемпстон отключен)
+montana2: раскрашенная игра Montana Jones 2 (Esc/Break - выход). скорость врагов уменьшена на четверть, при победе ожидается отпускание клавиш, бессмертие C
+barbaria: добавлена игра Barbarian (Esc/Break - выход), заставка с Amiga
+zxbattle: новая игра под цвет на точку ZX Battle City (Slip & nq)
+hws: игра с MSX High Way Star (декомпилировал Rasmer)
-sprexamp: не хватало двух файлов
+raytrace
+pt: возвращены горячие кнопки +/-256 в сэмпле: csR, csT (Wally)
-pt: ждал General Sound, даже если его не было
-pt: не работала загрузка *.mod (для использования сэмплов командой 8sNN)
-untr: буквы нот сдвинуты на пиксель вниз
-unreal fix atm-nmi (ctrl+f12) (DimkaM)
+convega: конвертирует bmp в дамп экранной памяти (два файла), палитра 222 со смещения 8000
+nedolang: видимо, исправлена ошибка в таргете ARM Thumb, добавлен таргет 386
*SETPG16K и т.д. теперь называются SETPG4000, SETPG8000, SETPGC000. curpg16k и т.д. теперь называются curpg4000, curpg8000, curpgc000. GET_KEY теперь называется OS_GETKEY. PRCHAR теперь называется OS_PRCHAR.

v0.875.1, 01.02.2021:

-kernel: случайно освобождал pgkillable
*kernel: OS_WAITPID переименована в OS_CHECKPID, потому что ничего не ждёт
+kernel: теперь QUIT (равно как и OS_HIDEFROMPARENT) имеет параметр hl=result. он возвращается родителю по WAITPID в hl
*cmd: показывает результат вызова программы

v0.978.1, 17.04.2021:
+build: проверка на наличие пробелов в пути. Если есть пробелы, то выдает ошибку и прекращает сборку (DimkaM)
*kernel: опрос CMOS без изменения режима BCD (BCD считается включенным)	 
+kernel: добавлен кемпстон (возвращается OS_GETKEY в lx, если там не читается 0xff)
*kernel, term: для ускорения игр term неактивен, пока не получит событие из пайпа или пока он не имеет фокус (потом надо будет и в фокусе ставить factive только по событиям клавиатуры/мыши)
+nv: каталог .. всегда вверху (Videogames Sematary)
+nv: при выходе текущий путь сохраняется в nv.pth. при старте открывается один каталог текущий, а другой запомненный (Videogames Sematary)
+nv: поиск может переходить к каталогу найденного файла по Enter
-nvhexed: возможно, была ошибка при листании длинных файлов
+movedisk disk.trd - уплотняет образ дискеты	 
+nedodel disk.trd filename.ext - удаляет файл на trd
-wolf3d: путал номер экрана после переключения фокуса	 
+vera: добавлена частично раскрашенная графика (Sergio). в оригинальном исходнике кузнец давал магнит вместо топора - исправлено
+vera: добавлен английский перевод большинства текстов (Serg Yakimovich/ZX-BITLES)
+nedores: добавлены спрайты без заголовков (x), unmasked sprites (z), ч/б картинка по столбцам (W)
+образец loadscr (Slip)
-nedoload (Evo SDK): не хватало файла (Sayman)
+Evo SDK: добавлено проигрывание музыки и звуковых эффектов
-br, midnight: исправлен нереентерабельный пересчёт страниц
+uwol: добавлена игра
+innsmouth: добавлена игра
+touhou-zero: добавлена игра Lost Donation Box Incident. по сравнению с оригиналом исправлены тексты
+zxbattle: Kempston дублирует управление первого игрока (Videogames Sematary)	 
+xnx: добавлена игра	 
+2048 выделен в отдельный проект
+dmm: восстановление текущего пути перед запуском nmisvc. исправлено монтирование под ATM. atm-хук фиксит флаг прерывания (DimkaM)
+nmisvc показывает значения регистров. добавлены poke, view screen, сохранение скриншотов (DimkaM)
-browser: убраны повторяющиеся пробелы и переносы, изменен юзер-агент, изменена обработка тега frame (DimkaM)
-не хватало images.exe (Mac Buster)	 

v0.1077.1, 07.06.2021:
-убран нескачиваемый файл	 
*временно убрана проверка флага readonly у файлов (DimkaM)
+добавлен отдельный батник для ATM2 со свободными страницами 0,4,6,0x1b..0x1f,0x38 (для игр touhou-zero и innsmouth), а в mkatm2hd.bat эти страницы не используются
*make: трд собирается по белому списку	 
-kernel: был отключен драйвер NeoGS-SD карты. включил для ZX Evolution и p2.666. немного переделан инсталлер (DimkaM)
+kernel: добавлен вызов OS_GETCONFIG ;H=system drive, L= 1-Evo 2-ATM2 3-ATM3 6-p2.666 (DimkaM)
-cmd: при запуске программ выставлял системную директорию
+dmm: добавлено монтирование trd под p2.666. для atm2 & p2.666, scl конвертится во временный файл trd(/bin/temp.trd) и монтируется уже этот временный файл(на атм2 напрямую с харда, на п2.666 в рам-диск) (DimkaM)
+dmm(atm): выбор буквы FDD (DimkaM)
-reset сбрасывал букву монтирования (DimkaM)
+reset.com в атм2 устанавливает перехватчик ресета (DimkaM)
*term: время показа мышки увеличено (KOE)	 
+moon.com: форкнулся moon-rabbit от Nihirash'а. активировано сохранение экрана при переключении процессов (DimkaM)
*browser.com: изменён прокси (DimkaM)
+nmisvc.com: добавлена очистка буфера клавиатуры при возврате из спектрум-мода	  (DimkaM)
+vera: докрашена героиня, раскрашена пивная, частично раскрашены скалы (Sergio)
+vera: English translation fixed (Equinox), hero blinking fixed
+vera: добавлена финальная картинка со стихами + перевод (Shaos + Equinox)
-vera: в релизе был пропущен один файл (+3code)
-touhou-zero: убраны лишние файлы, добавлены недостающие (gr8b)
+ufo2: добавлена игра. перегенерированы запоротые тайлы. покрашен порт, собираются одновременно EGA и не EGA версии. помощь с восстановлением и раскраской графики - gr8b и Sergio
+ufo2: добавлена автопокупка корабля и автонаём одного акванавта, чит (E - сбить НЛО) и автооткрытие полей. пока на карте правильно отображается только вражеский корабль	 
+z80: эмулятор zxzxemul. по сравнению с TR-DOS версией ускорено, поддержана многозадачность (с защитой клавиатуры), эмуляция бетадиска. исправлены IM 2, inf, ld ix,(nn), ld hx/lx,a, add ix,rp, adc/sbc hl,sp, outi/outd, добавлены kempston mouse, kempston joystick, чтение из AY. поддержаны память и экран Profi (512K, можно увеличить). работают ACE 1.07, Raytrace, LC5.2, ZXUNZIP!, MCX, BGE, ANSI0.6, HRP15367, DBSv0.7, HRUST1.3, PKUNZ141, PTU1.367, mRIP0.6, ZXRarC33, UNRAR061, SCUT11a, 8col0.13, PT3.73. не работают BV 2.19, QSV v2.0, VS0_98, GFXcon11, ZXZIP512, STD 2.01, CHIP14sd (даже кодовый блок), LView080, JPG050AF (даже если вручную включить 2-й экран). FCmp_v2B вместо показа каталога пишет disk error. alasm64 чудовищно долго крутится на задержке 3e01, а потом запускается. JPG050 и CHIP13sd. QSV v2.0, VS0_98, GFXcon11, PUSH612b работают. BV 2.19 грузится, но пишет Please insert disk. совсем не работают stp, STD 2.01, ZXZIP512, TOOLS2.0. остались проблемы только с ксорками с регистром R (stp, ZXZIP512), с турболоадерами (STD 2.01, TOOLS2.0) и с определялками наличия диска (BV 2.19, alasm48, LView080, FCmp_v2B). начато добавление отладчика
+z80: по 1+2+5 загружается снапшот пасьянса с Profi
-uwol: при компиляции писал ошибку (не влияла на результат)
-sprexamp: при компиляции писал ошибку
+nedores: добавлена возможность захватывать целый ряд спрайтов (пишем метку label#16 для 16 спрайтов)
-Evo SDK: убраны лишние сообщения. обновлён evoresc_new.exe (Hippiman)	 
+x86: начат проект эмулятора IBM PC. работает бейсик	 

v0.1179.1, 20.07.2021:
*демы перенесены в папку nedodemo
+в репозиторий добавлены perl (для Evo SDK) и CC3250.DLL (для ufo2). Но Java, не требующую установки, найти не удалось.
-в release добавлены недостающие утилиты untr, more, cut.c, concat.c, cc.bat с библиотеками
+добавлена запускалка UnrealSpeccy на втором ядре: emulcpu2.bat
-glukatm.rom: не работал резидент
+kernel: будит адресата пайпа, чтобы он мог принять в том же фрейме (не через factive!)
*kernel: в версии для Pentagon 2.666LE убраны нопы при обращении к SD-карте
+kernel: ускорен вызов функций (Sayman)
+cmd: добавлена команда cls (Grey)
*stdio: циклится через YIELD. YIELDKEEP теперь только при отправке данных. _GETKEY перенаправляется на getkey, достаточно вызвать один раз, чтобы получить событие (если оно есть)
-term: убрано мерцание курсора, не работала мышка. YIELDKEEP теперь только при отправке данных.
*browser, term: исправлено направление колеса мыши в соответствии с реалом. Эмулятор пока не исправлен.
-browser: исправлен адрес rss-прокси (DimkaM)
+nv: кнопки влево и вправо двигают курсор постранично, если некуда идти по строке. В выборе дисковода вверх-вниз зациклено (NEO SPECTRUMAN)
+nv: ускорен выход из меню выбора дисков. теперь всё рисуется быстро
*nv, texted: циклятся через YIELD. YIELDKEEP больше не используется нигде, кроме stdio и term!
-nv не передавал параметры при запуске по расширению (DimkaM)
+dmm: добавлен параметр Z для запуска reset.com/nmisvc.com (DimkaM)
+nmisvc.com: добавлена поддержка Version 1 of the .z80 format. Теперь поддерживаются 1,2,3 версии. некоторые .z80v1 не указывают бит компрессии. Сделал проверку на завершающий тег 00EDED00 (DimkaM)
+nmisvc добавлена кнопка сохранения в 1.sna и добавлена кнопка загрузки последнего sna (DimkaM)
-nmisvc пытался запустить scl как sna (DimkaM)
+nmisvc устанавливает перехват ресета (если разрешено в ERS) (DimkaM)
+reset.com на Еве запускает nmisvc. исправлен запуск на атм2 (DimkaM)
+s98_play - плейер музыки в формате s98 на TurboSound FM (автор NEO SPECTRUMAN)
+ufo2: импортирована графика всех персонажей (но только одного фона). добавлен вывод спрайтов в EGA. раскрашен главный герой (gr8b)
-ufo2: исправлен показ начальной заставки
-ufo2: не хватало файла
+wow: цветная версия игры A World of One Way (Serdjuk). во время звука выключается турбо, пароли генерируются по данным графики, а не по изменяемым
+z80: добавлен прототип дебагера (вызывается по 4+5, выход из него Esc). Выход из эмулятора 1+3+5, сброс 6+8+0. в дизасме исправлены inf, ld (ix/iy+d),n, rl reg, в подсчёте длины команды исправлена ld (hl),c. добавлен встроенный ассемблер
+x86: добавлен перехват записи в экран (текстмод и mode 13h) (thx Валерий Лис). Бейсик включается в исходнике настройкой BASIC=1. остальное грузится контекстно из файлов .x86. Выход 1+3+5.
+x86: исправлена адресация с коротким смещением (thk Валерий Лис). поддержано переключение сегментов в незацикленных командах работы со строками. исправлены call, NEGrm16, scasw, префиксы, сдвиги, or, and, loop, div r8. добавлены сегменты fs, gs, чтение-запись флагов, команды pop rm16, XCHG r8,r/m, RETF, MOVSW, REP MOVSW, daa, das, lea, lds, les. ускорена работа со стеком, jr. добавлены сканкоды кнопок, чистится экран. работают игры bootRogue, atomchess, lights, doom, fbird, pillman, para512, invaders. исправлены флаги, проходят test (все сдвиги), add_test и смешанный тест Валерия Лиса, а также его gfxcom и paporot. работает immediate railways (но очень медленно)
+x86: ускорено 16-битное adc/sbc с флагами (NEO SPECTRUMAN)
*x86: убрано зацикливание внутри сегмента из-за несовместимости 8086!=80386 и лишнего регистра
+x86: усложнена работа LAHF, POPF, megapole запускается, но работает неправильно
+zxbattle: добавлена сетевая игра, впервые по TCP (сервер 192.168.1.177), пока глючит

v0.1403.1, 06.02.2022:

*kernel: документировано, что OS_READSECTORS и OS_WRITESECTORS возвращают ошибку в A (Kulich)	 
+kernel: Внесена поддержка часов ATM2+ в kernel/main.asm. Для включения функционала добавлена переменная условной компиляции(atm2clock=1). Функционал в выключенном состоянии, в целях сохранения совместимости с Unreal. (Kulich)
*kernel: в ATM3 включается bit 5 порта #bf	 
*kernel: в сборке Evo включается палитра R4G4B4	 
-kernel: при старте недооси не глушились AY	 
-kernel: не проверял существование процесса при HIDEFROMPARENT
+kernel: добавлен вызов OS_GETPAGEOWNER ;e=page ;out: e=owner id (0=free, 0xff=system)	 
+ps2drv: в PS/2 драйвере клавиатуры добавлен Caps+Enter. добавлен опрос клавиш с ext (alt). Добавлена табличка под XT клаву (DimkaM)
*atm2hd теперь собирается с поддержкой сети (Galstaff, Kulich)	 
*untr: рефакторинг скролла	 
+fatfs: readdir возвращает ошибку (также можно, как и раньше, проверять имя на null string) (DimkaM)
+tools/src/mkfs.fat: port to mingw from dosfstools (lvd)
+увеличены размеры образов sd-карты и hdd до 512 MB (lvd, DimkaM)
-tazres.bin больше, чем вся дискета. убрал его из make.bat, иначе дискета неправильно формировалась	 
*view: возвращает код клавиши на выходе (NEO SPECTRUMAN) - для этого стрелки считаются выходом, а ch$ листается по OPQA	 
-iarlib: выложены исходники, исправлена сборка под линуксом (DimkaM)
+kernel: добавлены вызовы сохранения и получения dns адреса (DimkaM)
+dmirc: добавлен вачдог на три минуты (DimkaM)
*dmimg: fixed trivial typos in what dmimg prints (lvd)
+s98_play: возвращает код клавиши на выходе, чтобы переходить стрелками к следующему файлу (NEO SPECTRUMAN)	 
+tm: новая программа: диспетчер задач (Kulich) - возможность удаления процессов A-F по номеру. W - UP; S - DOWN; X - KILL; ESC - EXIT	 
+moon-rabbit: добавлена версия под АТМ-овский UART. Исправлена ошибка в модуле работы с zxnetusb. В случае если при скачивании файла происходила ERR_EAGAIN, то на диск лишний раз записывался буфер (Kulich)
+time2.com: Добавлена новая версия time.com, пока в виде форка.	Исправлена поддержка P2.666. Платформозафисимый код перенесен на уровень ниже. Оптимизированы процедуры (Kulich)
+ufo2: добавлены файлы музыки, но пока не вставлены (Hazard)	 
+rdtrd2.com, wrtrd2.com: более информативные версии стандартных утилит. Отображают имя файла и прогресс работы. чтобы не захламлять папку bin дублями, утилиты помещены в bin\kapps\ - Для предотвращения конфликтов библиотек создана отдельная ветка iarlib по аналогии с dmapps (Kulich)
+auart.com: Добавлено управление задержкой при получении данных, теперь работа на скоростях отличных от 38400 должна работать лучше. Добавлена задержка при отправке команд, чтобы на скоростях ниже 9600 команды не теряли символы. (Kulich)
*perl заменён на версию 32bit (64bit работала не везде)
-kuler: добавлены недостающие файлы	 
*cmd: возвращает результат последней запущенной программы (т.к. ассоциации в nv исполняются через cmd)
+cmd: переименование расширения: ren *.расш1 *.расш2	 
+cmd: proc выводит число занятых страниц у каждой задачи (NS)	 
+nv: F9 вызывает menu.mnu с текущим файлом. а вставка имени файла - только Caps+Enter
+nv: инверсия пометки переехала на extA (altA) (NS, Kulich)
+nv: если вызванная программа вернула код стрелки, то после выхода из неё курсор двигается вниз или вверх и автоматически нажимается Enter (NEO SPECTRUMAN)
-nv: при использовании файлов с двумя расширениями (типа filename.jpg.exe) nv сходил с ума
+texted: кнопка F9 запускает build.bat из директории с текстом. в режиме кодировки win1251 (теперь F10) ввод происходит тоже в кодировке win1251. F1 - help (Videogames Sematary). в режиме wrap (Ins) автоматически перепечатываются строки под редактируемой строкой (когда её длина кратна 80 или на 1 символ больше - т.е. для удаления и вставки символа соответственно)	 
-texted: вверху экрана пропадал курсор (Lord Vader)
-tp: убраны ошибки компиляции и несуществующие вызовы CP/M	 
-dmm некорректно работал с tap (DimkaM)
+ps6_play.com - экспериментальный плейер (NEO SPECTRUMAN)	 
+zxldr(hddfdisk) сделана нумерация разделов без пропуска и убраны дубли разделов(требуется переустановка boot'а) (DimkaM)
+mktrd: новая утилита - создание trd (Konstantin Kosarev)	 
+menu: меню из iS-DOS. пока курсор мигает. пользоваться так:
menu - просто вызывает SYSDRV/menu/menu.mnu
menu filename.ext - вызывает SYSDRV/menu/menu.mnu с именем файла как параметров для строк меню типа C*scratch.com
menu menuname.mnu filename.ext - вызывает menuname.mnu с именем файла как параметров для строк меню типа C*scratch.com
Если menuname.mnu не найдено в текущем каталоге, оно ищется в SYSDRV/	 
+nmisvc: добавлен дебагер и сорцы (DimkaM)
+reset: выход в 128 basic (DimkaM)
+z80: поддержана память ATM1 и Pentagon 512. более надёжный старт и запуск снапшота (раньше не был блокирован обработчик прерывания)
+x86: добавлен дизассемблер от Валерия Лиса (4+5)
-x86: исправлены команды shl r8,i8, jmp, loopz, loopnz, jcxz, les, lds, tst, popf, iret, retf, xlat, jmp far rm16, LOG16 (thanks to ZjoyKiLer for tests by Orbital Designs), добавлены retf i16, CMPSW, INT1, INT3, INTO, rep scasw, затычка для finit, все адресации movzx
-x86: исправлен загрузчик
+x86: исправлен опрос клавиш. для запуска геймплея planeta (он всё ещё глючит) сделана эмуляция переменных DOS (начало и конец клавиатурного буфера), также добавлены параметры для процедуры loadcompp, чтобы грузить что угодно (NEO SPECTRUMAN)	 
+x86: используется памяти только 51 страница = 48(RAM+VRAM)+1(ROM)+2(emulator). по идее должно запуститься на atm2hd_maxmem	 
+x86: поддержка CGA, возвращён шрифт BIOS (CGADEMO), добавлен порт 0x201 с рандомом	 
-x86: исправлена работа с нечётным стеком. исправлены переходы по некруглым сегментам. чистятся страницы при старте
+x86: добавлены прерывания 8,9
+x86: из порта 61h читается 0, из порта 60h читается сканкод.
+x86: можно собрать без остановов в случае неизвестных команд (NEO SPECTRUMAN)	 
+x86: добавлен текстмод 40 символов в строке и подобие режима CGA 4-color (цвета пока неправильные).
*x86: точный таймер 18.3 Hz (NEO SPECTRUMAN)
+x86: добавлена печать строки int 10h ah=13h
+x86: добавлены затычки для установки палитры (пустые), заработали lkccmini и plutina (NEO SPECTRUMAN)	 
+bk: эмулятор БК-0010 (thanks to Alexander Tishin and Manwe). 4+5 переключают 3 видеорежима: hires, псевдоцвет и RGB
+noise: добавлено плавное появление и забеление в ATM3 палитре, добавлен кадр в ATM3 палитре	 
+emul (Unreal Speccy): добавлена палитра ATM3 в режиме d3d (не gdi)
-emul: исправлено направление колеса мыши (Alone Coder), исправлен noise 0 (Dexus)	 
+rotozoom: новое демо (NS)	 
+moon-rabbit-zx: Причесан исходный код драйвера АТМ, поднята на 15% скорость приема данных (1350 байт в секунду), добавлена экспериментальная поддержка ком-порта по "Кондратьеву" для Evolution (Kulich)
+auart.txt: добавлен список функций для работы с ком портом АТМ (Kulich)
+auart.com: Программа предназначена для работы с ESP8266/ESP32 подключенной к COM-порту ATM. Размер буфера приема ~8192 байта, после достижения конца буфер просто начнет перезаписываться с начала.
Кнопки:
ESC Выход
BS Удалить последний введенный символ
CTRL+S Сохранение буфера на диск в файл buffer.log
CTRL+1 Выбор скорости порта 115200
......
CTRL+0 Выбор скорости порта 1200 (Kulich)
-montana2: при старте не чистил экран	 
+добавлена игра Season of the Sakura, под палитру 444, со вторым английским переводом (Transman)	 
+SanShimai: новая игра Three Sisters' Story (Transman), fix typos (lvd), добавлена цензура
+добавлена игра Runaway City (Meisou Toshi) (Transman)
+ufo2: сконвертированы спрайты XM1-XM20, XMARKER в .bmp (gr8b)
+ufo2: в EGA версии сделана загрузка острова (пока не докрашено)
+zxbattle: всё исправлено, в zxbatcli можно вводить адрес сервера в командной строке, например: zxbatcli 192.168.1.77 (по умолчанию используется адрес 192.168.1.177)	 
+vera: раскрашена анимация фонтана (Sergio)	 
-innsmouth: исправлены описания предметов (logic)	 
+myip: добавлена утилита для узнавания своего IP-адреса в интернете (DimkaM)	 
+nedores: появилась возможность вставлять произвольный код после метки спрайта. код пишется после ;
например:
letter#2=i,144,0,8,8,7; db 123,45
Letter#2=i,144,0,8,8,7
letterx=i,144,0,8,8,7; db 67,89
Letterx=i,144,0,8,8,7
это нужно для произвольных юзерских заголовков спрайтов. В формате B убран заголовок. новые форматы Z,b. добавлен импорт вертикальными полосками или целыми сетками спрайтов (;label autonumbering: label#8=... or label$4 or label$4#8)

v0.1534.1, 13.09.2022:

+kernel: Обновление загрузчика для поддержки часов ATM2+, включил по умолчанию поддержку часов в 8952 для ATM2+ в кернеле.
atm2clock = 1 Установить часы можно утилитой time2.com руками или через интернет. (Kulich)
-kernel: если родитель ещё не успел дойти до WAITPID, а дочерний процесс уже выполнил HIDEFROMPARENT, то родитель не просыпался! вылечено новым флагом: fchildfinished
+kernel, nedolang: в trdosfs возвращается дата файла в зависимости от номера сектора и позиции в секторе (при чтении каталога и getfiletime), в iofast.i добавлено getfiletime()
+kernel: при открытии пайпа с именем типа "z:/a33" ОС запоминает, что это соответствует терминалу с 33 строками. Число строк возвращается по OS_GETSTDINOUT ;e=stdin, d=stdout, h=stderr, l=hgt of stdout. В stdio при инициализации высота сохраняется в переменной stdiohgt. term33, nv, texted: поддержан 33-строчный режим, netterm задаёт 25 строк
+kernel: OS_GETMEMPORTS ;out: ix=memport0000, bc=memport4000, de=memport8000, hl=memportc000	 
-kernel: при закрытии программы (например, texted) пайп был какое-то время без хозяина, происходили зависания (Kulich)
*term: в исходнике поддержан символ 0x09 (tab), но пока закомментировано, т.к. nvview и texted его не понимают
-term: исправлена ошибка открытия потоков в начале
+term: поддержан запуск программы, указанной в командной строке (с параметрами далее) типа term basic.com example.bas
+cmd: команда quit тоже выходит (как в бейсике)
-nv: pgdown, pgup не возвращались в то же место. сделано как в Total Commander
-nv: после копирования не возвращал курсор на место (NEO SPECTRUMAN)
*nv: перед запуском программ не чистит экран (для menu)
-nv: после выхода из просмотрщиков по стрелке делался лишний скролл	 
-nv: переполнялся буфер длинных имён (NS)	 
-nv: неправильно выделял память под каталог при >512 файлов (NS, Kulich)	 
+scratch: добавлен цвет 16 (прозрачный), в нижней странице освобождено 3K под код
-nedolang: исправлен lbltype.i в соответствии с lbltype.c, чтобы на реале правильно компилировались обращения к структурам (например, в io.c), исправлена автосборка nedoasm
*basic печатает простыню так же, как cmd, не рассчитывая на 25 строк на экране ровно
+print: утилита печати (пока только для ZX Evo): print filename.txt
+menu: переделано на текстовый режим через терминал и не мигает
+winto866, 866towin: утилиты конверсии текстов, например: winto866 filename.txt	 
+z80, nmisvc: в дебагере можно редактировать регистр текущей страницы "FD" (младший байт - значение для 7ffd, старший - для порта расширения, в nmisvc такого нет), регистр записывается по нажатию Enter	 
+cyrus2: добавлены шахматы, по сравнению с оригиналом передизайнены + поддержка многозадачности, поддержаны Chess960 (пока без рокировки)
-bk: исправлен флаг переноса (thx Adam Bazaroff) - правильно работают Sokoban 2019 и Pacman	 
+cyrus2: добавлены шахматы (lvd)	 
+texted: добавлен help по F1, переключения кодировок теперь F10 (Videogames Sematary)
-evo sdk, pt, tp: чистка ошибок в логе
+добавлены примеры музыки под TurboSound в release/nedodemo	 
+gettrd: добавлена программа приёма из rs-232 (частота 57600, надо запустить программу и послать с другой стороны файл размером ровно 655360 байт командой copy /b file.trd com5 - в зависимости от того, по какому ком-порту подключена пентева)	 
+gfxtest: добавлена печать пропорциональным шрифтом (Wizard?(Delirium Tremens)+Alone Coder+Louisa)	 
-pkunzip: не распаковывал архивы больше 16 мегабайт и более 128 файлов. теперь внутренний каталог не составляется	 
+getpic.com: Получает все последние картинки с zxart.ee. кнопка "S" сохраняет текущую картинку. 'ESC' - выход из программы, '<-' или 'B' к последним картинкам, '->' или 'Пробел' к более старым картинкам, 'J' Прыжок на указанную по счету картинку,<15000, добавлена обработка тега "type", по нажатию кнопки "I" показываем экран с информацией о картинках (Kulich)
+dhrystone: утилита измерения скорости компьютера	 
-3ws: не очень хорошо качались большие файлы с евы (DimkaM)
+untr: добавлена загрузка файла в комстроке
+moon-rabbit-zx: Добавлены оригинальные цвета в интерфейс браузера (Kulich)
-hello был заменён тестом чтения секторов - возвращено обратно	 
+calc: калькулятор. добавлены константы e,pi и функции с параметром sin,cos,tan,sinh,cosh,tanh,asin,acos,atan,asinh,acosh,atanh,exp,ln,abs,sqrt	 
+texted: при выходе с несохранённым текстом спрашивает - а точно вы хотите выйти? (Shuran33)
-x86 не собирался	 
+nmisvc по дефолту 3.5мгц (DimkaM)
-nmisvc и z80 брали 866toatm не оттуда (DimkaM)	 
+Прототип сетевого драйвера для ESP32 на UART ATM2 (Kulich)
+man: утилита показа справки по системе. использовать так: man scratch - показывает справку КАТАЛОГСИСТЕМЫ/../doc/scratch.txt (они автоматически подтягиваются туда из всех каталогов при сборке системы), по умолчанию показывает справку nedoos.txt
-nedoasm: не хватало файлов findlbl.c, findlbl.i
+time2: полностью аналогична утилите time за исключением поддержки софтовых часов АТМ2+ в контроллере 8952. Утилита автоматически определяет тип машины и если запущена на АТМ2+, использует часы АТМ2+. На остальных машинах использует старые часы (Kulich)
+view: Добавлен просмотр графических файлов ZX_SSCII(.zxs) (DimkaM), просмотр атрибутов (.atr, .53c)
+player: поддержаны turbosound'ные модули от Vortex Tracker (Galstaff), добавлена поддержка форматов tfd, tfm, проигрывание saa1099 треков (.et, etc, .cmp) (DimkaM)
*Evo SDK: exp2hConverter переписан на Perl. Теперь Java не нужна (Hippiman)
+loadscr: добавлено восстановление фона	 
+worms: демоверсия, теперь раскрашена
-isitar: не сохранялся экран при смене фокуса	 
-touhou-zero: удалены лишние файлы	 
+BOD: новая игра Книга мёртвых: Потерянные души (Zorba)
+добавлен эмулятор Chip8 (NS) - софт с расширением *.ch8
+vic20: добавлен эмулятор VIC-20. по cs+space грузит .v20 с произвольного адреса (2 первых байта файла в пределах 8К), выход по 1+CS+Space (NS)	 
+zxzvm: работает игра heroes, ввод имени в "save" правильно не работает, пока что сохраняем в zsave.!, но сохраняется какая-то ерунда. "restore" её не распознаёт	 
*wow: при компиляции неправильно показывался размер описателей спрайтов	 
-zxbattle: не включает страницу 0xff	 
+добавлены библиотеки _sdk/textwindow.asm, _sdk/texteditln.asm, bmp.asm, prdword.asm
+утилиты для сборки tap
*prdword.asm, textwindow.asm, basic, cmd, man, more, nv, texted: все 32-битные числа теперь в dehl
*sjasmplus обновлён до версии 1.19.0 (исходники пока лежат старые), исправлены некоторые ворнинги (Ped7g)
+emul: new AY/YM tables (NS)	 
*emul: дебагер переехал на одну кнопку F5 (как в висуал студии), скриншот тоже - F8 (printscreen почему-то не работает), Alt дублирует extend (как на Спринтере), потом, возможно, будет вся раскладка как на Спринтере, раз удалось заюзать Alt	 
-emul: исправлена яркость в палитре alone на AA (как в эмуляторах Шалаева и Lion17), в палитре ATM исправлена ошибка zero+bright	 
+emul: Обновлено ПЗУ в эмуляторе (Savelij13)
-make.exe не работал на некоторых компьютерах
*в исходниках подчищены старые названия SETPG16K, SETPG32KHIGH/LOW - правильно SETPG4000/8000/C000

Сентябрь 2022:
+ngsdec: приложение, стримящее файл с диска на декодер NeoGS. Поддерживает все (по идее) возможные на NeoGS декодеры от VLSI Solution. Скорости АТМ2 не хватает на стриминг толстых битрейтов типа 320kbps, звук будет заикаться из-за недостаточной скорости загрузки данных. На Пентеве скорости для больших битрейтов в принципе хватает, но сам ngsdec на таких файлах будет неотзывчивым, когда запущено несколько задач. Если файл не задан в командной строке, то будут по очереди проигрываться все поддерживаемые декодером файлы из текущей директории. файлы .mp3, .mid, .ogg, .aac запускаются через ngsdec. Если декодер NeoGS не поддерживает такой тип данных, то ngsdec просто закроется. Матрица поддержки: .mp3 - везде, .mid - vs10x3, .ogg - vs1053/vs1063, .aac - vs1033/vs1053/vs1063 (galstaff)
+добавлены Makefile (salex)
-zxzvm: ожидал номер версии в памяти, поэтому не запускалось на реале. эта версия хочет 64 страницы данных, для сборки под атм2 надо вот тут поменять ld b,64;32 (alone)
+getpic/getpic.com увеличен размер буфера до 16 килобайт (kulich)
+worms: добавлен прицел (вокруг первого червя ALCO), управляется курсорными клавишами вверх, вниз. добавлены фазы, где червяк смотрит вправо. добавлены кнопки поворота и прыжка. исправлена печать курсора вне карты. показ маски (на 6912) перенесён на Z (alone)
-kernel: при создании файла в trdosfs одноимённый файл удалялся не на том диске. в trdosfs переименование и удаление происходили не на том диске (Beaver, alone)
+Evo SDK: выход из всех игр по 1+3+5 (alone)
+sjasmplus.exe обновлён до 1.20.1 (lvd)
-nv: не показывалось число удаляемых файлов в левой панели (Beaver, alone)
-movedisk не работал (Beaver, alone)

Октябрь 2022:
+say: библиотека для проигрывания текстов на AY по прерыванию (alone)
+texted: по ext+P играется текст в текущей строке (alone)
+Moon Rabbit Fusion (mrf): Экспериментальная версия gopher-браузера, которая объединяет оригинальную ветку, ветку tr-dos и ветку nedoOS. Для возможности собирать под разные целевые платформы и сетевые устройства. Теперь например можно собрать версию под TR-DOS c поддержкой порта ATM. добавлен таргет TR-UN-64, для запуска на Карабас-Про. UN - ESP на порту UNO UART. UA - ESP на ATM UART. UE - ESP на EVO UART (не проверялось на железе, должен быть Кондратьев-совместим). AY - ESP на AY-8910 UART. ZW - ESP на ZX-Wifi карте от izzx. -G - Версия с захардкожеными логин/пароль для wifi (kulich)
+kernel: OS_SETMUSIC при hl=0 ставит пустышку (Zorba) - в будущем можно будет это использовать для перекрытия музыки одной программы другой (alone)
+tenkosei: новая игра (Zorba)
-cyrus960: при рокировке исчезала ладья. глючили правила рокировки по Фишеру. теперь можно вводить рокировку, но только как ход короля на нужное поле (так нельзя ввести некоторые редкие рокировки, путаются с простым ходом короля) (alone)
+wizcfg: в ini добавлен DNS (DimkaM)
+getpic.com: Отображаем порядковый номер текущей картинки. После сохранения картинки сразу переходим к следующей. После просмотра экрана с информацией не загружаем заново картинку, а сразу отображаем ее из буфера (kulich)
*emul: в эмуляторе обновлён ROM ZX Evo (savelij13, DimkaM)
*доки переименованы в соответствии с именами программ (alone)
-ngsdec: Поправил чтение идентификатора кодека после сброса (galstaff)
+myip.com: Переведён на использование системного DNS сервера. Исправлена ошибка отображения ip-адреса. (kulich)
+telnet.com: Переведён на использование системного DNS вместо 8.8.8.8. Старая версия также висла, если не удалось получить адрес (kulich)
+ping.com: Переведён на использование системного DNS сервера вместо 8.8.8.8 (kulich)
+worms: в ATM черви теперь печатаются с точностью до пикселя. надписи червей обкусываются по ширине карты. исправлена ошибка печати информации о мёртвом текущем черве (alone)
+browser.com: Браузер переведён на работу с системным ДНС вместо захардкоженого 8.8.8.8 (kulich)
+moon.com: Добавлена поддержка системного DNS в браузер. Moonua.com и Moonue.com используют DNS от ESP. (kulich)
+dns.com: Добавлена утилита для просмотра и установки адреса системного DNS сервера. Пока софт не использует системные настройки. (kulich)

Ноябрь 2022:
+ptsplay.asm перенесён в src/_sdk, убран из проектов, bgpushxy.asm теперь одинаковый во всех проектах, дальше возможно перенесём в src/games/_sdk (alone)
+добавлен новый трек для ufo2 (hazard)
-почищены обращения к SETPG16K и т.п., заменены на SETPG4000 и т.п. (alone)
+getpic.com: ускорен процесс скачивания картинок. увеличено количество попыток получить данные от сервера до 5 (kulich)
*trdosfs: сделал костыль при закрытии файла и переименовании, чтобы делало для .B start=len, но этого недостаточно, потому что в бейсике есть 4 скрытых байта автозапуска, которые не входят в длину. они могут даже не поместиться в секторе, тогда надо весь файл перемещать (но без них всё-таки грузится, хотя и не запускается). ещё может быть важен start для кодовых. монолоадеры в пролёте, там длина в секторах не соответствует длине в байтах. надо это решать на уровне командера (Beaver, alone)
+mrf: Исправлена ошибка в nedoWiFi, приводившая к зависанию при попытке загрузить страницу большую, чем есть памяти, теперь аварийно завершаем процесс, если память кончилась. Изменена раскладка навигации в plain-text. Уменьшена задержка отображения лого. Исправлена ошибка в новой навигации по plain-text. Продублирована навигация на Синклер джойстик. Переработан интерфейс, теперь в него влезают 22 строки. Инверсия цветов по кнопке 'T' для TIMEX80. Для страницы с простым текстом добавлена возможность вводить адрес страницы, как и для gopher. Авторизация/инициализация включается ключом -DAUTH при сборке. Добавлена возможность добавления пользовательской строки инициализации для драйвера ESP. Можно добавить подключение к АP, нужно добавить в файл auth.p строку подключения (AT+CWJAP="SSID","drowssap"). Для режима 64 колонки добавлена возможность использовать все 64 колонки, для TIMEX80 все 85 колонок. Для не ZX-UNO машин используем порт 0xEFF7 для управления Timex Hi-Res режимом. (kulich)

Декабрь 2022:
+sys_h.asm: добавлена документация на OS_SETSYSDRV (lvd)
+sleep.com: Утилита служит для установки задержки при выполнении действий. время задаётся в миллисикундах, задержка выполняется с шагом 50 мс в диапазоне от 0 до 65550 мс. В случае, если указан аргумент, равный 0, программа ждёт нажатия на любую клавишу перед выходом. sleep.com [задержка] (kulich)
+gstest.com: Добавлена утилита для тестирования звуковой карты General Sound. Проверяет регистры, возвращает объем памяти, играет тестовые команды, загружает и играет тестовую мелодию (kulich)
-solkey: не работал кемпстон и многозадачность (alone)
-midnight, montana2: не работал кемпстон. в midnight ss+enter вылетал (alone)
+worms: на 6912, когда управление отпущено, старается привязать камеру к (x&7)==0 (в старом направлении движения), убрано автоотклеивание от (x&7)==4. таким образом не заметно мерцание, а анимация червей показывается максимально плавно (alone)
-barbarian: не работал кемпстон (Ancor, alone)
-player: формат tfd игрался слишком медленно (Buran, alone)
+ufo2: добавлена музыка в меню и в миссии (переделаны авторские процедуры вывода спрайтов, конфликтовавшие с прерываниями) (hazard, alone)
+nedores: новый формат W (ч/б спрайт с маской через строку), старый 'W' перенесён на 'c' (alone)

Январь 2023:
+gp.com: Плеер музыки c минималистичным UI. Поддерживает следующие типы файлов: .mp3, .mid, .ogg, .aac через декодер VLSI на карте NeoGS. Скорости АТМ2 не хватает на стриминг толстых битрейтов типа 320kbps, звук будет заикаться из-за недостаточной скорости загрузки данных. На Пентеве скорости для больших битрейтов в принципе хватает, но сам плеер на таких файлах будет неотзывчивым, когда запущено несколько задач; .pt2, .pt3; .mwm, .mdr на карте ZXM-Moonsound (galstaff)
+mrf: добавлен автоинкрементарный билд для версии браузера. Теперь при полной сборке увеличиваем версию формата 1.7.1 - 1.7.2 и обновлён драйвер trdos.asm (kulich)
-не работала загрузка sd_boot с HDD (savelij13)
+sleep: Добавлена проверка на корректность входного параметра sleep.com, максимальная задержка установлена в 32000 мс. если задержка меньше 0 или больше 32000, делаем её равной 0 (kulich)

Февраль 2023:
-player: не прибивал вторую копию себя (alone)
+sleep.com во время ожидания отдает ресурсы системе (kulich)
+auart.com Исправлена сборка, исходник перенесен в папку Си (kulich)
+dns.com: исправлена сборка (DimkaM)
+time2.com: Увеличено количество попыток получения данных, должно положительно сказаться на стабильности работы. Добавлена задержка в цикл запроса данных. Исправлена ошибка записи текущего времени в часы EVO (kulich)
+OS_SETTIME, пока только для Gluk CMOS RTC. readtime писал 0 в bd77. hello тестирует установку 81-02-12 07:34:22 (alone). добавлена поддержка OS_SETTIME для часов ATM2, изменён формат хранения года (kulich)
+kernel: ожидается, что драйвер SD загружен ЕРСом в NeoGS, иначе не монтируется. добавлен детект наличия драйвера SD в NeoGS (DimkaM)
-browser: не обновлял текущий путь при редиректе (DimkaM)
+getpic.com: Добавлена пауза в 100мс между попытками отправки и получения данных, должно положительно сказаться на стабильности работы (kulich)
-mktrd.com: Исправлено создание файла без задания аргументов. Исправлена ошибка создания файла с пользовательским именем (kulich)
+mrf: Для скачивания файлов и для загрузки mod в GS добавлена отображение пульсирующей "*" для отображения "живости" процесса. Для драйвера NEDONET увеличен буфер приёма, чуть возросла скорость. Откуда бы мы не запускали mrf, всегда откроется его домашняя страница. Все скачивания теперь происходят в папку downloads, которая должна быть в корне системного диска. Внимание! Если папки нет, то и файлы будут скачиваться в пустоту. nedoNET: Увеличен еще немного буфер nedoNET (эффект должен быть только на эмуляторе, в реальности карта отдает за раз не больше чем MTU); nedoNET: Между попытками отправки DNS запросов делаем небольшие паузы (kulich)
+nedores: добавлен формат y (чб спрайт с маской вертикально) (alone)
+gstest.com: убран лишний индикатор прогресса, съедавший 90% времени работы цикла. Добавлена инструкция к программе (kulich)
+kernel/ngssddrv.asm: Разделена инициализация NGS и GS. В случае, если из порта GSCFG0 (0x0f) читается 0xff, предполагаем, что имеем дело с GS, и не проводим дальнейшие инициализации NGS. Из-за 10-секундного сброса 2мб версии GS не сбрасываем его при загрузке, дабы не тормозить загрузку (kulich)
+nv: при копировании показывается, сколько байтов осталось (Ancor, alone)

Март 2023:
+zxartrad.com: Интернет-радио из каталога PT3 треков сайта zxart.ee (kulich)
+iarlib: добавлены вызовы для запуска дочерних процессов. (kulich)
+getpic.com: В запрос картинок добавлен фильтр на получение картинок только в формате 6912. Больше не будет долгих "format not supported" (kulich)
+mrf: Добавлен русский шрифт для 80 колоночного режима (TIMEX) (kulich)
+numtris: новая игра (Urfin)
+gp.com: небольшие багофиксы, добавил проигрывание .mod для обычных GS (galstaff)
+cmd: при старте выводит свою ревизию. команде pause добавлен параметр: pause [sec] ожидание нажатия клавиши sec секунд (по умолчанию - бесконечность). добавлена команда uname, выводящая версию ядра (DimkaM)
+kernel: в возврат вызова CMD_GETCONFIG добавлен номер ревизии сборки ядра (DimkaM)
+emul: Обновлено ПЗУ Евы. Обновлен evoflash, не корректно лил второй файл (savelij13)
+3ws: Yarodin обновил ява-скрипт веб-сервера, исправлена генерация путей к файлам с недопустимыми символами
+nv: при выходе чистится экран (в nvfast восстанавливается старый экран) (shuran33, alone)

Апрель 2023:
+getpic.com: Добавлено отображение автора картинки. добавлена возможность не отображать информацию о картинках при загрузке [V] (kulich)
+dots: новая игра (Urfin)
+numtris: Добавлен исходник (Urfin)
+zxartrad.com: Добавлен режим воспроизведения "Лучшее и наиболее голосуемое". Изменён принцип вызова плеера из основного приложения. Теперь плеер работает фоном, а приложение не блокируется. Добавлена возможность логирования на экране обмена данными [L]. Добавлено отображение авторов трека (полная информация только для первого в списке авторов). Добавлена возможность прослушивания и скачивания дополнительных форматов. Поддерживаются: "pt3", "pt2", "tfc", "ts". Добавлен автоматический переход на следующий трек. (Упрощенная схема определения, не работает для tfc). добавлена возможность остановить плеер [S] (kulich)
+iarlib: добавлена OS_HIDEFROMPARENT. добавлен новый тип консоли TTY_NE, не обрабатывающая нажатие ESC (kulich)

Май 2023:
+zxartrad.com: [S] Стоп превращен в некое подобие паузы, после нажатия любой кнопки начинает играть трек сначала. Добавлена обработка случаев, когда мы получаем json без ожидаемых данных, теперь не просто падаем, а стараемся работать дальше. заменён метод получения автора с filter:authorId на elementId, теперь корректно получаем данные и по alias и по id. tfc модули теперь тоже переходят к следующему после окончания воспроизведения. Оптимизация объема запросов. Снова переходим в режим паузы после смены формата. Теперь владельцы просто TS смогут снова слушать TS треки.
+gp.com: Поддержка VGM (пока только для OPL3/4), мелкие улучшения. Удалил проигрыватель .mdr файлов, т.к. mdr модули доступны в виде vgm на vgmrips.net. Добавил поддержку TurboSoundFM в vgm проигрыватель. (galstaff)
+nedores: добавлен формат I (прозрачная картинка) (alone)

Июнь 2023:
*dns.com: использует функции из своей библиотеки. (kulich)
+mk*.bat, makeall.bat: добавлен признак set makeall=1, чтобы во время сборки подавлялся запуск эмулятора при сборке софта. Добавлен вызов svnversion, ранее вызывался только для mkevo.bat. Для подавления запуска эмулятора используем новую переменную %notrunemu% (kulich)
+common.mk: Добавлен workaround для случаев сборки не из репозитория и из измененного репозитория (kulich)
+zxart-radio: При смене формата переходим к 0 треку в списке. создан файл radio.bat для запуска радио в отдельном терминале. добавлена возможность использования пользовательских запросов. Запрос хранится в файле radio\user.que и редактируется любым редактором. В случае отсутствия файл создается автоматически. К запросу пользователя будут спереди добавлено "GET /api/limit:X/start:X", а в конце "HTTP/1.1\r\nHost: zxart.ee\r\nUser-Agent: User-Agent: Mozilla/4.0 (compatible; MSIE5.01; NedoOS)\r\n\r\n". Файл перечитывается при каждом обращении, что позволяет редактировать файл на лету. добавлен прогресс-бар воспроизведения трека. Добавлен режим бесконечного воспроизведения текущего трека [R]. Добавлена возможность сохранить играющий трек, если выключено сохранение всех треков [D]. Добавлен секундомер игры трека. (kulich)
+evo-uart.asm: Добавил комментарии в код, переписал процедуру инициализации UART чтобы не моргала бордюром. (kulich)
+gp.com: Добавил поддержку .vgz. Добавил работу с плейлистами. Фикс для стабильной работы под UnrealSpeccy. добавлена инструкция (galstaff)
+mrfue.com: Обновлен драйвер evo-uart.asm включена поддержка RTS и установлена скорость обмена в 115200,8,1,0,3. Эффективная скорость скачивания на SD составила 36157 кбит/с (4,52 кб/с). Уменьшена в 5 раз задержка для flashRTS(), на скорость почти не влияет, но уменьшает количество потраченного времени в пустом цикле. Уменьшен speedfactor для 38400 с 10 до 7 (kulich)
+cuart.com: Терминалка для настройки ESP, подключенной к ком-порту ZX Evo. HOME Выполнить тестовый HTTP запрос. PgUp увеличить spdFactor для увеличения времени на очередь. PgDn уменьшить spdFactor для уменьшения времени на очередь (kulich)
+iarlib: Добавлена процедура uart_delay1k(); Добавлены OS_GETDNS и OS_SETDS (kulich)
+mrf.com: Для сборки с General Sound добавлена возможность выбора сохранять MOD на диск или играть сразу (кнопка 'G'). Сборка без поддержки General Sound теперь сохраняет файлы сразу на диск. Добавлен русский шрифт для 80-колоночной TR-DOS версии. (kulich)
+cmd.com: добавлена возможность запускать bat файлы без указания расширения. (kulich)
+tm.com: оптимизирован код, подрихтован интерфейс (kulich)

Июль 2023:
+gp.com: Фикс бесконечного цикла при чтении некорректной длины .mod. Файлы .vgm, .mwm с циклом проигрывают цикл дополнительный раз. Плеер закрывает предыдущий запущенный процесс плеера. Поддержка ay8910 в vgm плеере. Добавил на Мунсаунде поддержку дампов ROM из аркадных автоматов на ymf278b (galstaff)
+gstest.com: перенесен из kapps в bin (kulich)

Август 2023:
+crc: count CRC32. usage: crc filename, result on terminal (alone)
-в сорцах unrar исправлен crc по таблице (но не включен) (alone)
+updater.com: начата разработка утилиты обновления системы (kulich)
+zxartrad.com: Исправлен User-Agent (kulich)
+iarlib: добавлена функция OS_RENAME(unsigned int oldName, unsigned int newName) (kulich)
+mrf.com: Добавлена домашняя страница MRF kulich.tplinkdns.com:70. в MSX версию добавлена поддержка SCR (kulich)

Сентябрь 2023:
+getpic.com: заменён запрос получения картинки на "GET /jsonElementData/elementId:", в User-Agent добавлено "GetPic". Изменён формат имени сохранения картинок на автор-название. к имени файла добавляем теперь ещё и ID: "author-title-picId.scr", так как связка автор-название необязательно будут уникальна.
+zxartrad.com: каталог сохранений музыки изменён на \downloads\radio\. Для сохранения файлов теперь используется имя файла формата автор-название. экспериментальная реализация фильтра имени файла. При включенном сохранении на диск сохраняем с понятными именами.(kulich)
+gp.com: Добавил плеер .mod для MoonSound и файл настроек gp.ini. Мелкие фиксы в .vgm плеере. Добавил проверку, чтобы gp.plr и gp.com были из одного билда (galstaff)
+mrf.com: Для Gopher страниц снято ограничение на 256 строк. Теперь страница может занимать всю свободную память. (kulich)
+cmd: выполнение программ с перенаправлением вызова: crc.com file >out.txt. перенаправление вывода через >> пишет в конец существующего файла, если он есть (иначе создаёт) (kulich, alone). в команду pause при старте добавлен вызов getkey, чтобы уменьшить дребезг (kulich)
+crc: changed output format (same as md5sum), no crc calc when file couldn't be opened. made mainloop faster by ~25% (salex). added help (-h, --help), multiple files capability added. changed output format: first CRC value, then filename. added '-c' option, not yet fully working (lvd)
+build.bat: во всех файлах убрана команда CLS (kulich)
-kernel, atm2hd_maxmem.bat: используется страница 2 вместо 4 (4 - это pgkillable и используется при запуске хобет в nv). вроде бы, запуск хобет теперь работает (alone)
-worms: было пропущено HIDEFROMPARENT (alone)
-kernel: переключение фокуса во время копирования ломало систему (Sayman, alone). немного оптимизирован по размеру драйвер IDE (alone)
+updater.com: мастер обновления NedoOS. FULL update при запуске с ключом F обновит весь релиз, но потребует на это времени от 10 часов, до нескольких суток. updater отвязан от системного диска. обновление системы устанавливается на текущий диск. пытается сохранить пользовательские конфигурационный файлы. Новые файлы переименовывает в *.new. Сохраняет: autoexec.bat, nv.ext, net.ini. восстанавливаем по возможности из бэкапа nv.pth (kulich)
+iarlib: обновлена для работы updater (kulich)

Октябрь 2023:
+gp.com: Частотная таблица FT2 для MoonSound. (galstaff)
+mrf.com: Добавлено последовательное воспроизведение MOD файлов на странице. [Space] следующий трек [BackSpace] возврат на страницу. Спасибо izzx за код плеера. GZ экспериментальный таргет для отладки. уменьшен размер historyBlock.locator так-как в других местах работаем с ней как с 256 байтовой. При загрузке следующего трека обновляем страницу, нужно для последнего файла. Исправлено обновление экрана после проигрывания mod. Добавлена поддержка отображения времени для версии под NedoOS, добавлена возможность собрать с поддержкой SMUC RTC, не проверялось. Драматически ускорен рендер страниц. Теперь страницы отображаются одинаково быстро вне зависимости от их объема. (izzx). исправлено определение конца буфера для nedoOS версии. Оптимизации процедур работы с UARTом и отображения "*" Скачивание файла теперь на 2% быстрее (115200) (kulich)
+crc.com: added printing of SVNREVISION. fixed parsing of file with filenames and CRCs for '-c' option. add support for stdin (lvd)
+md5.com (lvd)
-cmd: при | правой программе неправильно указывался выходной поток и не передавалась комстрока. висло после передачи больших файлов через |. теперь не ждёт закрытия правой программы (alone)
+browser: Добавлена ссылка (DimkaM)
+nv: при запуске программ курсор ставится в начало последней строки, а она чистится (alone)
1836 	2023-10-08 23:15:45 	lvd 	/nedoos/ 	+crc:  	 
+terminal.com: добавлена везде пауза при выходе с сообщением (kulich)
+mandelbr: генератор фрактала Мандельброта (alone)
-raytrace: в релизе не было бинарника (alone)
-pkunzip: при невозможности создать файл зацикливалось, теперь просто пропускает этот файл (kulich, alone)
+getpic.com: Добавлен режим "случайная картинка с рейтингом 4+" [R]. исправлен фильтр на картинки типа standart. можно повторно ознакомиться с инструкцией по кнопке [H]. Папка для сохранения сохранения картинок теперь \downloads\getpic\. При старте опрашиваются кнопки во время отображения инструкции. Алгоритм выбора случайного трека упрощен до order:rand. Слишком длинные имена теперь обрезаются до корректной длины. Пример: grongy-don't_even_try_to_break_into_her_heart_(zxgfxtober_4_-_hacker)-417410.scr в grongy-don't_even_try_to_break_into_her_hea.scr (kulich)
+zxartrad.com, getpic.com: Слишком длинные имена теперь обрезаются с добавлением ID. Перед повторным добавлением ID удаляем его из строки (kulich)
+telnet: выход не по Esc (используется на некоторых серверах), а по ext+D. пропускал некоторые русские буквы (Sayman, alone). Отвязан от запускающего приложения (OS_HIDEFROMPARENT). Включено восстановление экрана после переключения. включена возможность ввода символов с языковым модификатором. Можно писать по-русски. исправлено зависание после сообщения can't resolve... Добавлена очистка экрана и пауза при выводе сообщений, так-как терминал рисуется в своем "окне" и при выходе оно закрывается. При запуске также очищаем экран (kulich)
+emul: Обновил Unreal с поддержкой MoonSound (galstaff)
+updater.com: полировка интерфейса. в восстанавливаемые файлы добавлен gp.ini (kulich)

Ноябрь 2023:
*mrf.com: Замена ключей компиляции на более отвечающие смыслу (UARTATM, UARTEVO). Добавлен ключ NOINIT, пропускающий инициализацию сети, позволяет попасть в главный экран даже без поддерживаемого железа. Добавлена поддержка часов SMUC (SMUCRTC + RTC). Добавление часов в MSX версию. В файле controler.asm уравновешено условие MSX/ALL (ld bc,#ff[f]) (убрать IFDEF, если проблем не будет) (kulich)
+gp.com: Улучшил загрузку сэмплов .mod в Мунсаунд, теперь требуется только 320Кб памяти, и большие модули работают на ATM2. (galstaff)
-nv: неправильно отображались длинные путеимена в окне копирования (Beaver, alone)
+crc: fix help (now each utility prints specific type of checkums). remove debug code from md5.com. fix file parsing so that there could be any number (>=1) of
spaces between checksum and filename (lvd)

Декабрь 2023:
+kernel: новая команда OS_GETPAL - берёт палитру, которая сейчас видна (alone)
+scrshot: утилита снятия скриншотов с других программ. сохраняет по комбинации cs+ss+L оба экрана в формате 16c (alone)
-zxbattle: была ошибка сборки (alone)
+puzzle: новая игра. надо собрать картинку из 240 кусочков. выход - esc (текущее состояние сохраняется). enter - перемешать кусочки, которые ещё не двигал. когда картинка соберётся, она покажется без разрезов (alone)
+Тест ZX Eva (Yamaha V9990) (galstaff)
-brintro: восстанавливается экран при потере фокуса (alone)
-kernel: при потере фокуса в приложениях без запоминания экрана не восстанавливался экран (Sayman). по умолчанию также восстанавливается страница 5 вместо любой ранее включенной экранных страницы (информации о том, какие где были, у ядра нет), приложения сами должны включать свои страницы перед рисованием, в будущем надо будет как-то фиксить ядро для сохранения страниц (alone)
+showay: анализатор для AY. цвета ближайших по квинтовому кругу нот соответствуют близким цветам. т.е. гамма из 7 нот охватывает всегда половину спектра, причём наиболее отличающимися будут ноты, между которыми тритон (обычно их не бывает в одном аккорде). space - пауза. 1,2,3 - вкл/выкл каналы A,B,C (и параллельные для турбосаунда). отображаются ноты с громкостью не ниже 7 (если с шумом, то только с периодом 0) и огибающие 8,A,C,E (alone)
+md5_speh_tool/ *crc: add srcs of C tool to calculate md5 and speh hashes (lvd)
+telnet: исправлено получение порта, если адрес введен в виде IP. Добавлен курсор (DimkaM)
+nedores: добавлен псевдоформат %, который зеркалит заданные спрайты по горизонтали (можно использовать диапазон, как и в других форматах). для примера немного исправлена графика sprexamp. максимальная ширина увеличена до 2048 пикселей, чтобы импортировать шрифты в экранном формате. (alone)
-getpic.com: изменен опрос клавиатуры, из-за которой было затруднительно использовать "I" (kulich)

Январь 2024:
+gstest.com: Тест теперь различает чтение из порта статуса 129 и 255. (kulich)
+getpic.com: Подтюнены сетевые задержки и количество повторных попыток. в процедуру netConnect () добавлено 5 попыток соединения. Добавлена очистка буфера клавиатуры после опроса, для подавления дребезга. Добавлен режим слайд-шоу [A], показывающий картинки по 5 секунд. В тихом режиме подавляем сообщения о переключении режимов просмотра, не выводим сообщений, при переключении в тихий режим очищаем экран. Автоматически создаётся папка Downloads, если её нет. В случае ошибки при netConnect() закрываем сокет и заново открываем его через OpenSock(). количество попыток в netConnect() увеличено до 10, пауза между попытками 1 секунда (kulich)
+updater.com: Добавлена справка (updater.txt). В интерфейс добавлена информация о стандартном и полном обновлениях. совместимость с новым pkunzip.com. Уменьшена задержка между повторами при сетевых операциях. Изменён порядок поиска tar файла, немного дольше, но в случае нескольких файлов возьмем новейший. updater.new - файл новостей для updater.com. Добавлена возможность отображения новостей, полученных из репозитория во время распаковки. Исправлена ошибка при полном обновлении. Исправлена ошибка из-за отсутствующей папки DOC. убран счетчик повторных попыток с экрана. затираем старый файл, только если успешно скачали первую часть нового файла. Добавлена возможность обработки HTTP ошибок. Пока проверяется только статус 200. Исправлены ссылки на файлы, убраны %2F. В список скачиваемых инструментов добавлен wizcfg.com. Из-за того, что компилятор не компилирует изменения, если они только в заинклюженных файлах, объединил main.c и network.c. уменьшен максимальный релиз для поиска tar до 2500. (kulich)
-emul: в 8bpp режимах (например, GDI) и ATM3 палитре неправильно рендерился экран. теперь в 8bpp режимах доступна только палитра ATM: if ((conf.mem_model == MM_ATM3) && ((comp.pBF&0x20) != 0) && (temp.obpp == 32)) (alone)
+wolf3d: 48k версия теперь компилируется в sjasm. импорт ч/б графики из bmp. автоматически вычёркиваются лишние линии с текстуры. добавлены тестовые альтернативные паки от Dragons' Lord. добавлен оптимизатор одинаковых столбцов в текстурах и защита от переполнения памяти. теперь работают все паки текстур (в случае чего ставятся столбцы по умолчанию). общие части 48K и ATM версий вынесены в отдельные модули. 48K версия использует карту от ATM версии, поддерживает зеркаление стен и двери. убрана защита цвета пола. сделана магнитофонная версия. в ней добавлено автоопределение мыши. исправлена ошибка компиляции при выключенных спрайтах. переставлены текстуры стен для 48 версии (alone)
*pkunzip: имя файла было ограничено 8.3, расширено до 64.64 (kulich, alone). Изменён вывод информации о распаковке файла (kulich)

Февраль 2024:
-kernel: исправлено закрытие сокета (DimkaM)
+wolf3d: в 48K версии добавлены звуки на бипере. попадание по врагу - звук 0, открытие двери - звук 5. 48K версия с 4 спрайтами. текстуры с 4 спрайтами теперь помещаются в памяти. сделана 128К версия с двумя страницами по 12 стен и 4 спрайта. исправлен выстрел (звук от Grongy, задержка 10 фреймов до следующего выстрела). добавлен звук сдыхания монстра. исправил несколько багов, которые не давали делать высоту экрана 24 знакоместа, исправил tap-загрузчик для 128К. новые текстуры для АТМ версии от NS. палитра берётся с bmp (пока конвертором) (alone)
+mkatm2: пропускаются страницы резидента (Maksagor, alone)
-iarlib: в функцию OS_NETSHUTDOWN вернул забытый аргумент вида закрытия (kulich)
-getpic.com: Оптимизирована скорость работы с данными. (kulich)
+gp.com: s3m плеер для Мунсаунд (galstaff)
+pt: версия с поддержкой gs называется ptgs, добавлена обычная, которая просто pt (Maksagor, alone)
-nv: при копировании или удалении директорий с более чем 64 поддиректориями происходило переполнение независимо от порядка вложенности (Beaver). Теперь заказывается много страниц буферов. Поиск в глубину пока прикрутить не удалось, но соответствующие места прокомментированы. (alone)
+mhmt: Fix a bug in megalz packer that was generating extra '1' bit for stop code. This causes incompatibility of newer produced packed files with older C depacking code, because that code was also expecting that extra '1' bit. However, already existing Z80 depackers are fine. (lvd)
+freetime: утилита для определения оставшегося времени в прерывании. показывает время без с ОС и с ОС, усреднение по 8 фреймам (alone)
+golden axe demo version (FlashZX)
+updater.com: восстанавливаем домашнюю страницу MR/MRF. новый дизайн новостей. getTools() скачивает net.ini как net_.ini (kulich)
+mrf.com: в версии под nedoOS разрешено писать русскими буквами. Горячие клавиши работают в любой раскладке (kulich)
+cuart.com: Переписан код чтения из UART. Должно улучшить стабильность чтения, пока ещё не используется индикатор заполнения FIFO, так как он есть только в последней конфе. Немного ускорены некоторые моменты. (kulich)
+nedores: можно указать инверсию атрибута (формат ~B) и форсировать конкретный атрибут (! после defaultcolor). новый формат S - цветной познакоместный спрайт с маской в режиме 6912. в режиме 6912 для спрайтов с маской добавлен цвет 16 - инверсия пикселя (редко, но требуется). дополнительный параметр комстроки -f<формат> позволяет задать формат для всех строк скрипта (когда нужно вытащить спрайты под два разных формата). новые форматы A и a: пиксели и атрибуты построчной картинки. исправлен размер B (alone)
+gstest.com: Показывает прочтенные данные в десятичном и двоичном виде. добавлена маска в текст. убрана проверка на FF чтобы не вводить в заблуждение, NGS в эмуле возвращает X11111111X (kulich)

Март 2024:
+wolf3d: редактирование стен кнопками 1,2 на втором наборе могло завесить программу. убраны заломы при приближении к стенам. в 128К версии добавлена музыка. теперь есть 48 и 128 тапы. исправлена коллизия со стенами, теперь можно mindist=64 и нет прилипания к отдельным стенам. исправлена работа дверей при слишком близком нахождении. в 48/128 исправлена оптимизация стен, добавлена оптимизация спрайтов, теперь по 8 спрайтов в странице, берутся из bmp сразу с маской. в формат хранения монстров добавил направление(dir). сделал движение всех объектов, при столкновении со стеной направление случайное. исправил импорт карты (были лишние стены от "зеркальных пробелов"). соотношение размеров пикселя в спрайте исправлено на 25%. сделана логика монстров (alone)
+mrf.com: Добавлена поддержка ввода русского языка в TR-DOS [CS+1]. Перенесены нововведения из версии MR от izzx: Добавлена возможность скачивания любых файлов [S], Убрана горячая кнопка [G] как не актуальная, В TR-DOS реализована возможность скачиввания файлов на дискету. Длинные файлы режутся по 64к. При сохранении в TR-DOS можно выбрать дисковод [A-D]. Добавлена поддержка типа содержимого 's' - позволит скачивать файлы, которые сервер считает звуковыми. Например, mid файлы на сайте MRF. Для TR-DOS перенесена поддержка 3-буквенных расширений. Исправлена ошибка отображения SCR. теперь все версии собираются в MRF.TRD, создана оболочка выбора версии для бута. WiFi версии: Добавлено сообщение о переполнении памяти, не получаем пакеты после переполнения. Попытка избавиться от буфера nameBuffer в пользу requestbuffer, экономия 256 байт. Исправлена ошибка при сборке MSX версии. Новый таргет "zwtrsmuc" TR-DOS версия с поддержкой ZXWIFI и часами SMUC. переносом VortexProcessor освобождено порядка 170 байт. Все новые модули размещать перед ним, там свободно ~7 килобайт + стек. Уменьшен размер requestbuffer до 256 байт. evo-uart.asm: Небольшая оптимизация кода. (kulich)
+getpic.com: При сохранении файла заменяем символы меньше ' ' на '_'. Некоторые символы конвертируются совсем неверно, например, "title":"Crist\u00f3bal Cantero Carrascosa". увеличена задержка при выходе из просмотра. (kulich)
+balls: портирован бильярд с TR-DOS. для двух игроков. помеченные лузы дают приз (alone)
+gp.com: Ещё более параноидальная проверка на наличие Мунсаунда (galstaff)
-updater.com: обновлён сетевой код до актуальной версии. рефакторинг (kulich)
+getpic.com: В тихом режиме больше не получаем данные по автору. рефакторинг (kulich)
+zxartrad.com: netConnect() делает 10 попыток подключения (kulich)
-kernel: исправлена проверка сокета на валидность (DimkaM)

Апрель 2024:
+gp.com: Поддержка MIDI UART, подключенного к AY порт A.2 (напр. MultiSound). Прогресс бар для миди. Сброс миди устройства перед проигрыванием. Добавил детект турбосаунд фм, теперь vgm для 2203 не будут молча виснуть при отсутствии железа. Поправил цикл задержки midi uart для последней пентевовской прошивки. (galstaff)
+wolf3d: мостры агрятся, только если зажать CS. добавлен показ ходячих зомбименов со стороны и сзади. добавлен сбор предметов со звуком (alone)
+Обновление updater.new и radio.bat (kulich)
+getpic.com: Уменьшены артефакты при переключении экранов. Реже происходят двойные нажатия. Добавлена экспериментальная поддержка ESP32 через ком-порт. Кнопка [D] переключает между режимом ZXNETUSB и ESP32. добавлен файл конфигурации ком порта для ESP32 версии, в browser\espcom.ini можно указать параметры: RBR_THR, IER, IIR_FCR, LCR, MCR, LSR, MSR, SR, divider. усилена фильтрация имен файлов (kulich)
+zxartrad.com: добавлена поддержка ESP32 на Кондратьеве. Для переключения режимов использовать ключ 'e', например, добавить в radio.bat "zxartrad.com e". Настройки порта в файле espcom.ini. Если есть карта ZXNETUSB, можно переключаться прямо в программе кнопкой [I]. Исправлена ошибка с глючным именем файла. (kulich)
+tm.com: косметические изменения (kulich)
+nv: поиск работал только в корневом каталоге из-за OS_OPENDIR. Enter в поле маски имени файла (там, где, например, название "a*") перезапускает поиск. раньше приходилось перезапускать nv для этого (alone)
-kernel: Исправлена ошибка формирования строки версии ядра в BDOS_get_config (kulich), noturbo ошибочно было 7 МГц, теперь 3.5 (galstaff, alone)
+mrf.com: Размер .locator и requestbuffer увеличен снова до 512 байт, vtrd.in содержит пути длиннее 256 символов. добавлен example.scr (kulich)
+3ws/index.htm: продублирована кнопка "upload" вверху списка файлов. Удобно при большом количестве файлов и папок в списке. (kulich)

Май 2024:
+gp.com: Плеер отображает устройство, на котором играет. Добавил поддержку OPNA части YM2608 через TFM (galstaff)
+wolf3d: считаются патроны и здоровье. при подбирании патронов и здоровья они корректируются. выстрелы шли неравномерно. увеличен хитбокс врага, включен прицел, добавлен взрыв при попадании в патроны (пока коряво). добавлен звук окрика (shout), когда враг видит игрока. сейчас видение работает только при зажатом Caps Shift. новые спрайты. патроны и аптечка брались не всегда - исправлено. берутся только аптечка и патроны. добавлены анимации гранаты и огня. после взрыва возникает огонь. спрайты при слишком малом расстоянии не исчезают. исправлена музыка. новая графика взрыва и огня, оптимизирована текстура креста. (alone)
+zxartrad.com: Добавлено включение AFC для esp драйвера. Добавлена поддержка ZXWifi. альтернативный способ определения конца трека. Для TFC обрезаем 5 последних секунд трека (костыль: должно помочь с повисанием при переходе на следующий трек). (kulich)
+aesdemo.com: демка шифрования AES256 (Maxiol, kulich)
+getpic.com: добавлен gpic.bat для запуска программы в отдельном терминале, должно повысить стабильность работы с фоновыми процессами. добавлена поддержка 8266 с ZXWifi в espcom.ini указывается 8266 или 32. Первая реализация механизма повторных запросов при ошибках соединения. Добавлено отображение типа порта строкой (kulich)
+cuart.com: Добавлено чтение параметров порта из espcom.ini. Добавлен режим немедленной отправки символа после ввода [End]. <Ext>+<U> выполняет команду AT+CIUPDATE. Добавлены заготовки драйвера ATM2 порта. Добавлена заготовка драйвера 16550 с AFC. Отображаем делитель при смене скорости. исправлена ошибка выключения "direct mode". Добавлена инструкция (kulich)
+mrf.com: Добавлен высокоскоростной драйвер(57600) для AY-232 (также в getpic.com). Исправлено отображение версии интерфейса, добавлено отображение версии AYWiFi56. Увеличен буфер TCP для ZXNetUsb (kulich)
-cmd: не полностью показывались выполняемые команды. при выполнении .bat вызовы без расширения обрывали исполнение батника (alone)
-nedolang: batch запускается с адреса 0x4000, а компилятор генерирует метки переходов без префикса с названием функции. теперь при ассемблировании компилятора в тестовом окружении свободно 11 килобайт. исходники .ast, которые ассемблируются вместе, должны генерироваться из .c одной командой comp с перечнем файлов! иначе номера меток переходов в них будут совпадать! при ассемблировании asm теперь свободно 9140 байт в тестовом окружении, в test.bat была пропущена токенизация lbltype.i, скрипты build.bat не копировали релиз в bin (alone)
+getpic.com

Июнь 2024:
+Season of the Sakura - финальная версия (Zorba)
+nv.com: Добавлены часы в терминальную версию. вызываем перерисовку раз в 100 опросов и принудительно при отрисовке панели. Кнопка F6 теперь по умолчанию перенос, копирует путь со второй панели. Возможен перенос в пределах одного тома. Не поддерживается множественное выделение. (kulich)
+mrf.com: Добавлены драйвера AY-56k (kulich)
+updater.com: добавлена экспериментальная поддержка ESP-COM. При запуске с ключом e - Bin, с ключом E - full апдейт. Необходим файл настроек на системном диске. исправлена ошибка восстановления autoexec.bat. больше не требуем нажатий кнопки после обновления, можно обновлять как часть bat-файла. после обновления не удаляем release.zip, может пригодиться после. при обновлении восстанавливаем пользовательский espcom.ini (kulich)
+wolf3d: добавлена панелька. экран шириной 24. логика теперь 25 FPS, все константы времени пересчитаны. автострейф по назад+вбок. автооткрытие двери. CS кидает гранату, она взрывается об стену. также граната кидается даблкликом кнопки "назад". кнопка T отключает музыку. разрешение настроено "opt" - низкое при приближении, высокое при удалении. в узких коридорах более 10 FPS. добавлен звук взрыва (вообще все звуки надо отредактировать) (alone)
-time2.com: Добавлена поддержка получения времени от ESP-COM. Запускать с ключом -e. Увеличена задержка между попытками. была не учтена возможность получения ответа "+TIME_UPDATED". Добавлена обработка ошибок получения даты. в 2070 году сломается. (kulich)
-zxartrad.com: Релиз с поддержкой АТМ2 ком порта. comType = 1. Проверенная скорость 38400. небольшие исправления в интерфейсе. Для ESP-COM добавлено принудительное закрытие файла (kulich)
-cuart.com: исправлена загрузка параметров com-порта. (kulich)
+getpic.com: Релиз с поддержкой АТМ2 ком порта. (kulich)

Июль 2024:
+mrf.com: рефакторинг (kulich)
+nv.com: Реализован диалог перезаписи файлов при копировании. [ESC][N] - пропустить текущий файл, [R] - заменить все файлы, [S] - пропустить все файлы, [Y] - переписать текущий файл. 'c' для отмены всего копирования. остальные кнопки рассматриваются как Yes. Пресечена попытка копирования файла самого в себя, что приводило к обрезанию его до 4096 байт. textpages уменьшено до 164 байт. (стек должен войти теперь)

Август 2024:
-zxartrad.com: исправлена ошибка отображения прогресс-бара после остановки воспроизведения (kulich)
+getpic.com, updater.com, zxartrad.com: файлы настроек вынесены из папки "bin" в папку "ini". добавлена поддержка DNS (kulich)
+iarlib: добавлена поддержка UDP в tcp.h (kulich)
+updater.com: BIN updater теперь обновляет из отдельного архива, без промежуточных распаковок через tar.com. Улучшена портативность. добавлена простейшая проверка наличия сети перед началом обновления.Чтобы исправить ситуацию когда запустили апдейтер, он переименовал папку bin, а сети нет даже рядом. (kulich)
+pkunzip.com: более лаконичные сообщения при распаковке (kulich)
+netprint.com: утилита, позволяющая печать на сетевых принтерах в режиме RAW текст. Если принтер не сетевой, можно использовать принт-сервер. Например, https://github.com/taylorza/WinPrintServer/releases Для печати документа просто запускаем netprint readme.txt. Предварительно настроить адрес:порт в файле ini/netprint.ini (kulich)
+mrf.com: Добавлен индикатор Play mode/Save mode. (kulich)

Сентябрь 2024:
+calendar.com: Простой календарик. Год указывается в качестве параметра запуска, иначе год 2024 (kulich)
+zxartrad.com, tm.com: вывод текста переведен на BDOS, так как он заметно быстрее (kulich)
+updater.com: оптимизирован вывод прогресса скачивания, сохраняем текущий путь при загрузке параметров ESP (kulich)
+mkatm2.bat: INETDRV=0x01 поддержка ZXNETUSB на ATM2 при запуске с дискеты (kulich)
+us: Обновлен эмулятор (DimkaM), исправлены пути в svn (lvd)
+gopher.com: Начат новый проект gopher браузера с расширенными возможностями. (kulich)
+tar.com: добавлена поддержка длинных имен файлов (32.8) при распаковке. (Procyon, kulich)
+getpic.com, updater.com, zxartrad.com: из сетевых функций zxnetusb удалены интерфейсные куски, количество попыток передаем как параметр и вынесены в отдельный файл (common/network.c) соответственно эти функции стандартизированы для всех приложений. terminal.c перенесен в папку common. из радио убрано логирование, которое вызывалось кнопкой L (kulich)

v0.2188.1, 23.10.2024:
+getpic.com: рефакторинг кода, всяческие улучшения и оптимизации. Добавлена возможность задать минимальный рейтинг при случайном просмотре (kulich)
+zxartrad.com: Добавлена возможность установить минимальный рейтинг трека для Q2 и Q3 [M] (kulich)
+gopher.com: OS_SHELL теперь вызывает приложения не через cmd, а через term.com в отдельном терминале. getchar() заменены на waitkey(), чтобы нажатие в сообщениях esc не приводило к выходу. горячие клавиши больше не зависят от регистра. новый драйвер мыши. Переключиться на старый можно кнопкой [M]. исправлена не критичная ошибка загрузки nv.ext (kulich)
+cuart.com: добавлена справка при старте, esp процедуры вынесены в esp-com.c. исправлена ошибка открытия конфигурационного файла (kulich)
+updater.com: небольшое ревью кода и перенос функций в esp-com.c (kulich)
+zxart-radio.com версия 2.8: рефакторинг, улучшайзинг и баг фиксинг (kulich)
+calendar.com: текущий год берется из ЧРВ. клавиша [Y] позволяет ввести год. клавиши [вверх] и [вниз] листают года, любые другие переключают полугодия. производственный календарь на 2014 - 2025 года в ini файл, кнопка [H]. кнопкой [N] можно включить получение данных по сети. поддержка NedoNet и xmlcalendar.ru. поддержка ESP-COM [E] / useProdCalendar=3. параметр, позволяющий получать по сети производственный календарь для некоторых других стран currentCountry=ru {"ru", "kz", "by", "uz", "ua"} (kulich)

